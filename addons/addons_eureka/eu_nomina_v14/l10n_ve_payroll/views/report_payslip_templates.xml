<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="l10n_symbol" name="symbol">
        <span t-esc="o.company_id.currency_id.symbol"  class="symbol"/>
    </template>
    <template id="report_payslip_custom">
    <t t-call="web.html_container">
                <!-- <t t-foreach="docs" t-as="o"> -->
                    
                    <t t-set="data_report_margin_top" t-value="0"/>
                    <t t-call="web.basic_layout">
        
                        <style type="text/css">
                          
                            ::root{
                                font-size: 1rem;
                            }
                            html{
                                
                                margin:0px;
                                padding:0px;
                            }
                            #logos &gt;span{
                                font-size:12px;
                            }
                          
        
                        </style>
                        <t t-foreach="[docs[i: i + 2] for i in range(0, len(docs), 2)]" t-as="duo">
                        <t t-foreach="duo" t-as="o">
                        <div style="page-break-inside: avoid;text-transform: uppercase;">
                        <div class="container">
                            <div class="row">
                                <div class="col-3">
                                    <span t-field="o.company_id.name"/><br/>
                                    <span t-field="o.company_id.vat"/>
                                </div>
                                <div id="logos" class="col-6 text-center">
                                    <br/>
                                     
    
                                            <h5 class="text-center">
                                                <t t-if="o.is_vacation">
                                                    Liquidación de Vacaciones
                                                </t>
                                                <t t-elif="o.is_utility">
                                                    Calculo de utilidades
                                                </t>
                                                <t t-else="">
                                                    Recibo de <span t-field="o.struct_id.name"/>
                                                </t>
                                            </h5>
                                </div>
                                <div class="col-3 text-right">
                                   <t t-if="o.is_vacation==True">
                                   </t>
                                   <t t-elif="condition">
                                   </t>
                                   <t t-else="">
                                    <strong style="font-size:10px;">FECHA NÓMINA</strong><br/>
                                   </t>
                                            <span t-field="o.compute_date"/>
                                    
                                    
                                </div>
                            </div>
                            
                        </div>
                        
                        <div class="page" style="font-size:14px;margin-top:5px;font-weight: bold;">
                            <table name="employee-infos" class="table table-sm table-borderless" style="line-height:0.7;">
                                <tr>    
                                    <t t-if="o.is_vacation==True">
                                        <td class="text-center" style="font-size:14px;" colspan="5">
                                            <!-- <strong >Vacaciones desde el </strong>
                                        <span t-field="o.date_from"/>
                                        <strong > hasta el </strong>
                                        <span t-field="o.date_to"/> -->
                                        </td>
                                       </t>
        
                                       <t t-else="">
                                        <td class="text-center" style="font-size:14px;" colspan="5">
                                            <strong>PERIODO DE PAGO DESDE EL </strong>
                                        <span t-field="o.date_from"/>
                                        <strong> HASTA EL </strong>
                                        <span t-field="o.date_to"/>
                                        </td>
                                       </t>
                                    
                                    
                                </tr>
                                <tr>
                                    <td colspan="1"><strong>CÓDIGO</strong></td>
                                    <td colspan="1"><span t-field="o.employee_id.emp_id"/></td>
                                    <td colspan="1"><strong>EMPLEADO</strong></td>
                                    <td colspan="1"><span t-esc="o.employee_id.name[:50] if o.employee_id else ''"/></td>
                                    <t t-if="o.is_vacation==True">
                                        <td colspan="2"><strong>SALARIO P/ CALCULO:</strong></td>
                                        <t t-if="o.contract_id.is_variable_wage">
                                            
                                            <td colspan="1" class="text-left"><span t-esc="'%.2f'%o.salario_promedio"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                        </t>
                                        <t t-else="">
                                            <td colspan="1" class="text-left"><span t-esc="'%.2f'%o.sal_diario"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
        
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <td colspan="2"><strong>SALARIO DIARIO NORMAL:</strong></td>
                                        <td colspan="1" class="text-left"><span t-esc="'%.2f'%o.sal_diario"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                    </t>
                                    
        
                                </tr>
                                <tr>
                                    <td colspan="2"><strong>C.I o RIF</strong></td>
                                    <td colspan="2" class="text-left"><span t-field="o.employee_id.identification_id_2"/></td>
                                    
                                    <td colspan="2"><strong>SALARIO MENSUAL</strong></td>
                                    <td colspan="1" class="text-left"><span t-esc="'%.2f'%o.sal_mensual"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                </tr>
                                <tr>
                                    <td colspan="2"><strong>FECHA INGRESO</strong></td>
                                    <td colspan="2" class="text-left"><span t-field="o.contract_id.date_start"/></td>              
                                    <t t-if="o.is_vacation==True">
                                        <td colspan="2"><strong>VALOR CESTATICKET</strong></td>
                                        <td colspan="1" class="text-left"><span t-esc="'%.2f'%o.contract_id.cesta_ticket"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                        
                                    </t>
                                    <t t-elif="condition">
                                    </t>
                                    <t t-else="">
                                        <!-- <td colspan="1"><strong>SALARIO COMPLEMENTARIO</strong></td>
                                        <td colspan="1" class="text-left"><span t-esc="'%.2f'%o.sal_comple"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                        <td colspan="1" style="width:160px;"></td> -->
                                    </t>
                                    
                                </tr>
                                <tr>
                                    <td colspan="2"><strong>CARGO</strong></td>
                                    <td colspan="2" class="text-left"><span t-field="o.employee_id.job_id"/></td>
                                    
                                    <td colspan="2"><strong>FORMA DE PAGO</strong></td>
                                    <td colspan="1" class="text-left"><span t-field="o.pay_type"/></td>
        
                                    
                                </tr>
                                <tr>
                                    <td colspan="2"><strong>DEPARTAMENTO</strong></td>
                                    <td colspan="2" class="text-left"><span t-field="o.employee_id.department_id.name"/></td>
                                    
                                    <td colspan="2"><strong>CUENTA DE BANCO</strong></td>
                                    <td colspan="1" class="text-left"><span t-field="o.employee_id.account_number_2"/></td>
                                    
                                </tr>
                                
                                <t t-set="ultima" t-value="o.env['hr.payslip'].sudo().search([('employee_id', '=', o.employee_id.id),('date_to', '&lt;=', o.date_from),('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('type_struct_category','in',['normal','especial'])],order='id desc',limit=1)"/>
                                    <t t-if="ultima">
                                        <tr>
                                            <td colspan="2"><strong>ULTIMO PAGO:</strong></td>
                                            
                                            <td colspan="5" class="text-left"><span t-esc="ultima.date_to"/></td>
        
                                        </tr>    
                                    </t>
                                    
                                    <t t-if="o.is_vacation==True">
                                        <tr>
                                            <td colspan="2"><strong>Antiguedad</strong></td>
                                        <td colspan="2" class="text-left">
        
                                                <span t-esc="o.employee_id.ano_antig"/> Años
        
             
                                                <span t-esc="o.employee_id.mes_antig"/> Meses
        
           
                                                <span t-esc="o.employee_id.dias_antig"/> Días
        
                                        </td>
                                                <td colspan="2"><strong>Año correspondiente:</strong></td>
                                                <td colspan="1" class="text-left"><span t-field="o.anno_vacaciones_designado"/></td>
        
                                        </tr>
                                        <tr>
                                                <td colspan="2"><strong>Periodo disfrute del:</strong></td>
                                                <td colspan="2" class="text-left"><span t-field="o.date_from"/><strong> Al: </strong><span t-field="o.date_to"/></td>
                                                <td colspan="2"><strong>Fecha de Reintegro:</strong></td>
                                                <td colspan="1"><span t-esc="(o.date_to+relativedelta(days=1)).strftime('%d/%m/%Y')"/></td>
                                        </tr>
                                         
                                    </t>
                                   
                            </table>
                            <div style="min-height:250px;">
                            
                            <table style="margin-top:-30px;">
                                <thead>
                                    <tr style="border:1px solid black;border-radius:20px;border-spacing:0;margin-left:0%;width:100%;">
                                        <!-- <th width="10%" >CÓDIGO</th> -->
                                        <th width="45%">CONCEPTO</th>
                                        <th width="5%">CANT.</th>
                                        <th width="15%" class="text-right">ASIGNACIÓN</th>
                                        <th width="15%" class="text-right">DEDUCCIÓN</th>
                                        <th width="20%" class="text-right">APORT. EMP.</th>
                                    </tr>
                                </thead>
                                <tbody>
        
                                    <t t-set="total_asig" t-value="0"/>
                                    <t t-set="total_deduc" t-value="0"/>
                                    <t t-set="total_aportem" t-value="0"/>
                                    <t t-set="neto_acobrar" t-value="0"/>   
                                    <t t-set="neto_acobrar_ref" t-value="0"/>   
                                    <t t-set="subtotal" t-value="0"/>   
                                    <t t-set="subtotal_ref" t-value="0"/>
                                    <t t-set="bono_alime" t-value="0"/>
                                    
                                    <!-- <tr t-foreach="o.worked_days_line_ids" t-as="worked_days"> -->
                                        <!-- <td><span t-field="worked_days.code"/></td> -->
                                        <!-- <td>
                                            <span t-field="worked_days.name"/>
                                        </td>
                                        <td class="text-right"><span t-field="worked_days.number_of_days"  t-options='{"widget": "float", "precision": 2}'/></td> -->
                                        <!-- <td class="text-right"><span t-esc="'%.2f'%worked_days.amount"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td> -->
                                    <!-- <t t-set="total_asig" t-value="total_asig+worked_days.amount"/> -->
                                        <!-- <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <t t-if="o.worked_days_line_ids">
                                        <tr>
                                            <td colspan="5"><hr/></td>
                                        </tr>
                                    </t>  -->
                                    <tr t-foreach="o.line_ids.filtered(lambda line: line.salary_rule_id.appears_on_payslip_receipt)" t-as="line">
                                        <t t-if="line.code != 'SUspisious'">
                                            <t t-if="line.code == 'BONO_ALIMEN'">
                                                <t t-set="bono_alime" t-value="bono_alime+line.total"/>
                                            </t>
                                            <!-- <td><span t-field="line.code"/></td> -->
                                            <td><span t-field="line.name"/></td>
                                            <td class="text-right"><span t-field="line.quantity" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                            <t t-if="line.category_id.name !='Deducción' and line.category_id.code !='COMP'">
                                                <td class="text-right"><span t-esc="line.total" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                                <t t-set="total_asig" t-value="total_asig+line.total"/>
                                            </t>
                                            <t t-else="">
                                                <td/>
                                            </t>
                                            <t t-if="line.category_id.name == 'Deducción'">
                                                <td class="text-right"><span t-esc="line.total" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                                <t t-set="total_deduc" t-value="total_deduc+line.total"/>
                                            </t>
                                            <t t-else="">
                                                <td/>
                                            </t>
                                            <t t-if="line.category_id.code == 'COMP'">
                                                <td class="text-right"><span t-esc="line.total" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                                <t t-set="total_aportem" t-value="total_aportem+line.total"/>
                                            </t>
                                            <t t-else="">
                                                <td/>
                                            </t>
                                        </t>
                                    </tr>
                                    
                                    <tr class="border-top">
                                        <!-- <td width="10%" ></td> -->
                                        <td width="45%"/>
                                        <td width="5%" class="text-right"><strong>TOTAL:</strong></td>
                                        <td width="15%" class="text-right"><span t-esc="total_asig" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                        <td width="15%" class="text-right"><span t-esc="total_deduc" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                        <td width="20%" class="text-right"><span t-esc="total_aportem" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/></td>
                                    </tr>
                                    <t t-set="tax_today" t-value="o.tax_today"/>
                                    <t t-set="neto_acobrar" t-value="total_asig-total_deduc"/>
        
        
                                    <tr>
                                        <td colspan="5"/>
                                    </tr>
                                    <br/>
                                    
                                    <tr>
                                        <!-- <td width="10%"  ></td> -->
                                        <td width="45%"/>
                                        <td width="5%"/>
                                        <td width="15%" class="text-right"/>
                                        <td width="15%" class="text-right"><strong>NETO A COBRAR:</strong></td>
                                        <td width="20%" class="text-right" style="border:1px solid black;border-radius:20px;border-spacing:0;margin-left:0%;">
                                            <strong>
                                                <span t-esc="neto_acobrar" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>&amp;nbsp;<t t-call="l10n_ve_payroll.l10n_symbol"/>
                                            </strong>
                                        </td>
                                
                                    </tr>
                                      <tr>
                                        <td style="padding-top:5px;" class="text-center" colspan="6"><strong>HE RECIBIDO EL TOTAL INDICADO EN PAGO A MIS SERVICIOS PRESTADOS DURANTE EL PRESENTE PERIODO SEGÚN LOS CONCEPTOS ESPECIFICADOS.</strong></td>
                                    </tr>
                                </tbody>
                                 
                            </table>
                            </div>
      
                            <table style="margin-top:-20px;">
                                <tr>
                                <br/>  
                                    <th class="text-center" style="margin-bottom:5px;margin-top:5px;width:400px"><strong>ENTREGO CONFORME</strong></th>
                                    <th class="text-center" style="margin-bottom:5px;margin-top:5px;width:400px"><strong>RECIBÍ CONFORME</strong></th>
                                </tr>
                                <tr style="height:30px;">
                                    <th class="text-center text-align-bottom" style="margin-bottom:15px;padding-top:15px;width:400px"><strong>_____________________________</strong></th>
                                    <th class="text-center text-align-middle" style="margin-bottom:15px;padding-top:15px;width:400px"><strong>_____________________________</strong></th>
                                </tr>
                                <tr>
                                    <span> </span>
                                </tr>
                                <tr>
                                    <th class="text-center" style="margin-bottom:5px;margin-top:5px;width:400px"><strong>Firma Autorizada</strong></th>
                                    <th class="text-center" style="margin-bottom:5px;margin-top:5px;width:400px"><strong><span t-field="o.employee_id"/></strong></th>
                                    
                                </tr>
                                <tr>
                                    <th class="text-center" style="margin-bottom:5px;margin-top:5px;width:400px"><strong><span t-field="o.company_id.name"/>-<span t-field="o.company_id.vat"/></strong></th>
                                    <th class="text-center" style="margin-bottom:5px;margin-top:5px;width:400px"><strong><span t-field="o.employee_id.identification_id_2"/></strong></th>
                                </tr>
                                <tr>
                                    <th class="text-center" style="margin-bottom:5px;margin-top:5px;width:400px"><strong/></th>
                                    <th class="text-center" style="margin-bottom:5px;margin-top:5px;width:400px"><strong/></th>
                                </tr>
                            </table>
                        </div>
                        <t t-if="o.struct_id.use_comision or o.struct_id.use_variable_bonifications">
                            <table class="table table-sm table-striped table-bordered mt-2" style="font-size:0.8rem; ">
                                <thead>
                                    <th class="w-50 text-center"><t t-if="o.struct_id.use_comision">Desglose Comisiones</t></th>
                                    <th class="w-50 text-center"><t t-if="o.struct_id.use_variable_bonifications">Desglose Bonificaciones Variables</t></th>
                                </thead>
                                <tbody>
                                    <td>
                                        <t t-if="o.struct_id.use_comision">
                                            <div class="container-fluid">
                                                <t t-foreach="o.employee_id.comisiones_per_employee.filtered(lambda x: x.date_efective&gt;=o.date_from and x.date_efective&lt;=o.date_to)" t-as="comision">
                                                    <div class="row">
                                                        <div class="col-4"><span t-esc="comision.concept"/></div>
                                                        <div class="text-center col-4"><span t-esc="comision.date_efective"/></div>
                                                        <div class="text-right col-4"><span t-esc="comision.monto" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></div>
                                                    </div>
                                                </t>
                                            </div>
                                        </t></td>
                                    
                                    
                                    <td><t t-if="o.struct_id.use_variable_bonifications">
                                        <div class="container-fluid">
                                            <t t-foreach="o.employee_id.bonificaciones_per_employee.filtered(lambda x: x.date_efective&gt;=o.date_from and x.date_efective&lt;=o.date_to)" t-as="bonificacion">
                                                <div class="row">
                                                    <div class="col-4"><span t-esc="bonificacion.concept"/></div>
                                                    <div class="text-center col-4"><span t-esc="bonificacion.date_efective"/></div>
                                                    <div class="text-right col-4"><span t-esc="bonificacion.monto" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></div>
                                                </div>
                                            </t>
                                        </div>
                                    </t></td>
                                </tbody>
                                
                            </table>
                        </t>
                        </div>
                        </t>
                        
                        </t>
                    <!-- </t> -->
                </t>
    </t>
</template>
<!-- 30 tds -->
    <template id="report_rel_general_nomina">
        <t t-call="web.html_container">

                <t t-call="web.basic_layout">
                    <style>
                        :root{
                            font-size:0.6rem;
                        }
                        .rotated{
                            transform: rotate(90deg);
                            -webkit-transform: rotate(-90deg);
                            -moz-transform: rotate(-90deg);
                            -ms-transform: rotate(-90deg);
                            -o-transform: rotate(-90deg);

                        }
                        .spaced{
                            padding: 8px;
                        }
                        tr,td{
                            border: 0.2rem solid black;


                        }
                        table{
                            border-collapse:collapse;
                        }
                        .borderless{
                            border: 0px solid white;
                        }
                        .grayed{
                            background-color: #bfbfbf;
                        }
                        hr {
                            background-color: gray;
                        }

                    </style>
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                            </div>
                            <div id="logos" class="col-6 text-center">
                                <img style="height: 90px; width:90px;" t-attf-src="data:image/*;base64,{{logo}}" t-att-alt="company['name']" />
                                <br/>
                                <span t-esc="company['name']"/> - 
                                        <span t-esc="company['street']"/> - 
                                        <span t-esc="company['street2']" t-if="company['street2']"/> - 
                                        <span t-esc="company['city']"/> - 
                                        <span t-esc="company['state_id']"/> - 
                                        <span t-esc="company['vat']"/>
                            </div>
                            <div class="col-3">
                            </div>
                        </div>
                        <div class="row text-center">
                            <div class="col-12">
                                <p><b>Relación Nómina <span t-esc="mes"/></b></p>
                            </div>
                            
                            
                        </div>
                        <div class="row text-center" style="font-size:1.2rem;">
                            <div class="col-12">
                                <p><b>Periodo: desde <span t-esc="inicio"/> hasta el <span t-esc="final"/></b></p>
                            </div>
                        </div>
                    </div>
                    <table>
                        <tr>
                            <td colspan="6">

                            </td>
                            <td colspan="4">
                                
                            </td>
                            <td colspan="9" class="text-center">
                                Valorizacion
                            </td>
                            <td colspan="12" class="text-center">
                                Deducciones
                            </td>
                        </tr>
                        <tr style="height:100px;">
                            <td colspan="3" class="text-center spaced align-middle">
                                TRABAJADOR
                            </td>
                            <td colspan="2" class="spaced text-center align-middle">
                                C.I.
                            </td>
                            <td colspan="1" class="spaced text-center align-middle">
                                FECHA INGRESO
                            </td>
                            <td colspan="4" class="text-center spaced align-middle">
                                CARGO
                            </td>

                            <td colspan="2" class="align-middle">
                                <p class="rotated ">SALARIO MENSUAL</p>
                            </td>
                            <td colspan="2" class="align-middle" >
                                <p class="rotated ">SALARIO DIARIO</p>
                            </td>
                            <td colspan="1" class="align-middle" >
                                <p class="rotated ">DIAS LABORALES</p>
                            </td>
                            <td colspan="1" class="align-middle" >
                                <p class="rotated ">DIAS FERIADOS</p>
                            </td>
                            <td colspan="1" class="align-middle" >
                                <p class="rotated ">DIAS LABORABLES Bs.</p>
                            </td>
                            <td colspan="1" class="align-middle" >
                                <p class="rotated ">DIAS FERIADOS Bs.</p>
                            </td>
                            <td colspan="1" class="align-middle" >
                                <p class="rotated ">TOTAL ASIGNACIONES</p>
                            </td>

                            <td colspan="2" class="align-middle" >
                                <p class="rotated ">S.S.O.</p>
                            </td>
                            <td colspan="2" class="align-middle" >
                                <p class="rotated ">S.S.O. EMPLEADOR</p>
                            </td>
                            <td colspan="1" class="align-middle" >
                                <p class="rotated ">R.P.E.</p>
                            </td>
                            <td colspan="1" class="align-middle" >
                                <p class="rotated ">R.P.E. EMPLEADOR</p>
                            </td>
                            <td colspan="1" class="align-middle" >
                                <p class="rotated ">FAOV</p>
                            </td>
                            <td colspan="2" class="align-middle" >
                                <p class="rotated ">APORTE FAOV EMPLEADOR</p>
                            </td>
                            <!-- <td colspan="1" class="align-middle" >
                                <p class="rotated ">INCES</p>
                            </td> -->
                            <!-- <td colspan="2" class="align-middle" >
                                <p class="rotated ">APORTE PATRONAL INCES</p>
                            </td> -->
                            <td colspan="1" class="align-middle"  >
                                <p class="rotated ">AUSENCIAS</p>
                            </td>
                            <!-- <td colspan="1" class="align-middle"  >
                                <p class="rotated ">ISLR</p>
                            </td> -->
                            <td colspan="1" class="align-middle"  >
                                <p class="rotated ">TOTAL DEDUCCIONES</p>
                            </td>
                            <td colspan="1" class="align-middle"  >
                                <p class="rotated ">TOTAL PAGAR</p>
                            </td>
                        </tr>
                        <t t-set="total_total_total" t-value="0"/>
                    <t t-foreach="departamentos" t-as="departamento">
                    <tr>
                        <td colspan="31" class="grayed" style="padding-left:5px;"><span  t-esc="departamento.get('name',' ')"/></td>
                        <t t-set="total_sal_mensual" t-value="0"/>
                        <t t-set="total_deduc_dep" t-value="0"/>
                        <t t-set="total_total_dep" t-value="0"/>
                    </tr>
                        <t t-foreach="filter(lambda c: c ['department'] and c['department']==departamento['id'],lineas)" t-as="linea">
                            <tr>
                                <td class="text-center text-align-middle spaced" colspan="3"><span t-esc="linea.get('employee',' ')"/></td>
                                <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('ci',' ')"/></td>
                                <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('date_start','')"/></td>
                                <t t-if="linea.get('error',False)">
                                <td colspan="26">
                                <span t-esc="linea['error']"/> 
                                </td>
                                </t>
                                <t t-else="">
                                    <td class="text-center text-align-middle spaced" colspan="4"><span t-esc="linea.get('position',' ')"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('sal_mensual',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('sal_diario',' ')"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('worked_days',' ')"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('free_days',' ')"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('payed_worked_days',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('payed_free_days',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('total_asignaciones',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="2"><span t-esc="linea.get('s.s.o.',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="2"><span t-esc="linea.get('s.s.o.empleador',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('r.p.e.',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('r.p.e.empleador',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('faov',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="2"><span t-esc="linea.get('faov.empleador',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <!-- <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('inces',' ')"/></td> -->
                                    <!-- <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('inces.patronal',' ')"/></td> -->
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('ausencias',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <!-- <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('islr',' ')"/></td> -->
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('total_deducciones',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('total',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>

                                </t>
                                <t t-set="total_sal_mensual" t-value="total_sal_mensual+float(linea.get('sal_mensual',0))"/>
                                <t t-set="total_deduc_dep" t-value="total_deduc_dep+float(linea.get('total_deducciones',0))"/>
                                <t t-set="total_total_dep" t-value="total_total_dep+float(linea.get('total',0))"/>
                                <t t-set="total_total_total" t-value="total_total_total+float(linea.get('total',0))"/>
                            </tr>

                        </t>
                        <tr class="borderless" style="height:20px;">
                            <td  colspan="10" class="borderless"><u><span  t-esc="'TOTAL NOMINA'+' '+departamento['name'].upper()"/></u></td>
                            <td class="text-right borderless" colspan="2"><span t-esc="total_sal_mensual" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                            <td colspan="17" class="borderless"></td>
                            <td class="text-right borderless" colspan="1"><span t-esc="total_deduc_dep" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                            <td class="text-right borderless" colspan="1"><span t-esc="total_total_dep" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                        </tr>
                    </t>
                    <tr class="borderless">
                        <td class="borderless" colspan="35"><hr/></td>
                    </tr>
                    <tr class="borderless">
                            <td  colspan="12" class="borderless"></td>
                            <td colspan="18" class="borderless text-right"><u><span  t-esc="'TOTAL NOMINA COMPAÑIA:'"/></u></td>
                            <td class="text-right borderless" colspan="1"><span t-esc="total_total_total" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                    </tr>
                    </table>
                </t>

        </t>

    </template>


    <template id="report_rel_sal_comple_nomina">
        <t t-call="web.html_container">

                <t t-call="web.basic_layout">
                    <style>
                        :root{
                            font-size:0.6rem;
                        }
                        .rotated{
                            transform: rotate(90deg);
                            -webkit-transform: rotate(-90deg);
                            -moz-transform: rotate(-90deg);
                            -ms-transform: rotate(-90deg);
                            -o-transform: rotate(-90deg);

                        }
                        .spaced{
                            padding: 8px;
                        }
                        tr,td{
                            border: 0.2rem solid black;


                        }
                        table{
                            border-collapse:collapse;
                        }
                        .borderless{
                            border: 0px solid white;
                        }
                        .grayed{
                            background-color: #bfbfbf;
                        }
                        hr {
                            background-color: gray;
                        }

                    </style>
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                            </div>
                            <div id="logos" class="col-6 text-center">
                                <img style="height: 90px; width:90px;" t-attf-src="data:image/*;base64,{{logo}}" t-att-alt="company['name']" />
                                <br/>
                                <span t-esc="company['name']"/> - 
                                        <span t-esc="company['street']"/> - 
                                        <span t-esc="company['street2']" t-if="company['street2']"/> - 
                                        <span t-esc="company['city']"/> - 
                                        <span t-esc="company['state_id']"/> - 
                                        <span t-esc="company['vat']"/>
                            </div>
                            <div class="col-3">
                            </div>
                        </div>
                        <div class="row text-center">
                            <div class="col-12">
                                <p><b>Relación Nómina <span t-esc="mes"/></b></p>
                            </div>
                            
                            
                        </div>
                        <div class="row text-center" style="font-size:1.2rem;">
                            <div class="col-12">
                                <p><b>Periodo: desde <span t-esc="inicio"/> hasta el <span t-esc="final"/></b></p>
                            </div>
                        </div>
                    </div>
                    <table>
                        
                        <tr style="height:100px;">
                            <td colspan="3" class="text-center spaced align-middle">
                                TRABAJADOR
                            </td>
                            <td colspan="2" class="spaced text-center align-middle">
                                C.I.
                            </td>
                            <td colspan="1" class="spaced text-center align-middle">
                                FECHA INGRESO
                            </td>
                            <td colspan="4" class="text-center spaced align-middle">
                                CARGO
                            </td>

                            <td colspan="2" class="align-middle text-center">
                                <p class="spaced ">SALARIO<br/> MENSUAL</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced ">SALARIO<br/> DIARIO</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced ">SALARIO<br/>COMPLEMENTARIO</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced ">SALDO<br/> TRANSFERIDO</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced ">SALDO<br/> EN DIVISAS</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced">FIRMA DEL TRABAJADOR</p>
                            </td>
                            
                        </tr>
                        <t t-set="total_total_total" t-value="0"/>
                    <t t-foreach="departamentos" t-as="departamento">
                    <tr>
                        <td colspan="22" class="grayed" style="padding-left:5px;"><span  t-esc="departamento.get('name',' ')"/></td>
                        <t t-set="total_sal_mensual" t-value="0"/>
                        <t t-set="total_deduc_dep" t-value="0"/>
                        <t t-set="total_total_dep" t-value="0"/>
                    </tr>
                        <t t-foreach="filter(lambda c: c ['department'] and c['department']==departamento['id'],lineas)" t-as="linea">
                            <tr>
                                <td class="text-center text-align-middle spaced" colspan="3"><span t-esc="linea.get('employee',' ')"/></td>
                                <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('ci',' ')"/></td>
                                <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('date_start','')"/></td>
                                <t t-if="linea.get('error',False)">
                                <td colspan="22">
                                <span t-esc="linea['error']"/> 
                                </td>
                                </t>
                                <t t-else="">
                                    <td class="text-center text-align-middle spaced" colspan="4"><span t-esc="linea.get('position',' ')"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('sal_mensual',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('sal_diario',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('sal_complemento',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <!-- <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('free_days',' ')"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('payed_worked_days',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('payed_free_days',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                     -->
                                </t>

                            </tr>

                        </t>
                        
                    </t>
                    

                    </table>
                </t>

        </t>

    </template>

    <template id="report_rel_general_vacaciones_nomina">
        <t t-call="web.html_container">

                <t t-call="web.basic_layout">
                    <style>
                        :root{
                            font-size:0.6rem;
                        }
                        .rotated{
                            transform: rotate(90deg);
                            -webkit-transform: rotate(-90deg);
                            -moz-transform: rotate(-90deg);
                            -ms-transform: rotate(-90deg);
                            -o-transform: rotate(-90deg);

                        }
                        .spaced{
                            padding: 8px;
                        }
                        tr,td{
                            border: 0.2rem solid black;


                        }
                        table{
                            border-collapse:collapse;
                        }
                        .borderless{
                            border: 0px solid white;
                        }
                        .grayed{
                            background-color: #bfbfbf;
                        }
                        hr {
                            background-color: gray;
                        }

                    </style>
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                            </div>
                            <div id="logos" class="col-6 text-center">
                                <img style="height: 90px; width:90px;" t-attf-src="data:image/*;base64,{{logo}}" t-att-alt="company['name']" />
                                <br/>
                                <span t-esc="company['name']"/> - 
                                        <span t-esc="company['street']"/> - 
                                        <span t-esc="company['street2']" t-if="company['street2']"/> - 
                                        <span t-esc="company['city']"/> - 
                                        <span t-esc="company['state_id']"/> - 
                                        <span t-esc="company['vat']"/>
                            </div>
                            <div class="col-3">
                            </div>
                        </div>
                        <div class="row text-center">
                            <div class="col-12">
                                <p><b>Relación Nómina Vacaciones <span t-esc="mes"/></b></p>
                            </div>
                            
                            
                        </div>
                        <div class="row text-center" style="font-size:1.2rem;">
                            <div class="col-12">
                                <p><b>Periodo: desde <span t-esc="inicio"/> hasta el <span t-esc="final"/></b></p>
                            </div>
                        </div>
                    </div>
                    <table>
                        
                        <tr style="height:100px;">
                            <td colspan="3" class="text-center spaced align-middle">
                                TRABAJADOR
                            </td>
                            <td colspan="2" class="spaced text-center align-middle">
                                C.I.
                            </td>
                            <td colspan="1" class="spaced text-center align-middle">
                                FECHA INGRESO
                            </td>
                            <td colspan="4" class="text-center spaced align-middle">
                                CARGO
                            </td>

                            <td colspan="2" class="align-middle text-center">
                                <p class="spaced ">SALARIO<br/> MENSUAL</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced ">SALARIO<br/> DIARIO</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced ">SALARIO<br/>COMPLEMENTARIO</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced ">SALDO<br/> TRANSFERIDO</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced ">SALDO<br/> EN DIVISAS</p>
                            </td>
                            <td colspan="2" class="align-middle text-center" >
                                <p class="spaced">FIRMA DEL TRABAJADOR</p>
                            </td>
                            
                        </tr>
                        <t t-set="total_total_total" t-value="0"/>
                    <t t-foreach="departamentos" t-as="departamento">
                    <tr>
                        <td colspan="22" class="grayed" style="padding-left:5px;"><span  t-esc="departamento.get('name',' ')"/></td>
                        <t t-set="total_sal_mensual" t-value="0"/>
                        <t t-set="total_deduc_dep" t-value="0"/>
                        <t t-set="total_total_dep" t-value="0"/>
                    </tr>
                        <t t-foreach="filter(lambda c: c ['department'] and c['department']==departamento['id'],lineas)" t-as="linea">
                            <tr>
                                <td class="text-center text-align-middle spaced" colspan="3"><span t-esc="linea.get('employee',' ')"/></td>
                                <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('ci',' ')"/></td>
                                <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('date_start','')"/></td>
                                <t t-if="linea.get('error',False)">
                                <td colspan="22">
                                <span t-esc="linea['error']"/> 
                                </td>
                                </t>
                                <t t-else="">
                                    <td class="text-center text-align-middle spaced" colspan="4"><span t-esc="linea.get('position',' ')"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('sal_mensual',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="2"><span t-esc="linea.get('sal_diario',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('sal_complemento',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <!-- <td class="text-center text-align-middle spaced" colspan="1"><span t-esc="linea.get('free_days',' ')"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('payed_worked_days',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                    <td class="text-right text-align-middle spaced" colspan="1"><span t-esc="linea.get('payed_free_days',' ')" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/></td>
                                     -->
                                </t>

                            </tr>

                        </t>
                        
                    </t>
                    

                    </table>
                </t>

        </t>

    </template>
    
    <template id="report_anticipo_custom">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-foreach="o.employee_id" t-as="e">
                <t t-set="data_report_margin_top" t-value="10"/>
                <t t-call="web.basic_layout">
                    <style type="text/css">
                        ::root{
                            font-size: 1.5rem;
                        }
                        html{
                            
                            margin:0px;
                            padding:0px;
                        }
                        #logos >span{
                            font-size:10px;
                        }
                        
    
                    </style>
                    <div class="container">
                        <div class="row">
                            <div class="col-3">
                                
                            </div>
                            <div id="logos" class="col-6 text-center">
                                <img  t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" height="80px" style="max-width: 150px;padding-left:5px; margin-top:10px;"/>
                                <br/>
                                <span t-field="o.company_id.name"/> - 
                                        <span t-field="o.company_id.street"/> - 
                                        <span t-field="o.company_id.street2" t-if="o.company_id.street2"/> - 
                                        <span t-field="o.company_id.city"/> - 
                                        <span t-field="o.company_id.state_id"/> - 
                                        <span t-field="o.company_id.vat"/>
                            </div>
                            <div class="col-3 text-right">
                               
                                <strong style="font-size:10px;">FECHA DE PAGO:</strong><br/>
                                        <span t-field="o.fecha"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 text-center">
                                <t t-if="not o.anticipo_intereses">
                                    <h3><t t-esc="o.name"></t>
                                    </h3>
                                </t>
                                
                                <t t-else="">
                                    <h3>Intereses <t t-esc="o.name"></t>
                                    </h3>
                                </t>
                            </div>
                        </div>
                        
                    </div>
                    <t t-set="total" t-value="0"/>
                    <div class="container" style="font-size:10px;margin-top:10px;">
                        <table name="employee-infos" class="table table-sm table-borderless">
                            <tr>
                                    <td colspan="2" style="font-size:12px;"><strong>PERIODO DE PAGO:</strong></td>
                                    <td colspan="4" class="text-left" style="font-size:13px;"><span>Desde el:</span><span t-field="e.fecha_inicio"/>--<span>Hasta el:</span><span t-field="o.fecha"/></td>                                
                            </tr>
                            
                            <tr>
                                <td colspan="6" class="text-center" style="font-size:12px;"><strong>DATOS DEL TRABAJADOR</strong></td>
                            </tr>
                            <tr>
                                <td colspan="3"><strong>NOMBRE Y APELLIDO:</strong> <span t-esc="e.firstname+' '+e.lastname"/></td>
                                <td colspan="3"><strong>C.I o RIF: </strong> <span t-field="e.identification_id_2"/></td>
                            </tr>
                            <tr>
                                <td colspan="3"><strong>CARGO: </strong><span t-field="e.job_id"/></td>
                                <td colspan="3"><strong>DEPARTAMENTO: </strong><span t-field="e.department_id.name"/></td>
                            </tr>
                            <tr>
                                <td colspan="2"><strong>FECHA INGRESO</strong></td>
                                <td colspan="4" class="text-left"><span t-field="e.fecha_inicio"/></td>   
                            </tr>
                            
                            <tr>
                                <td colspan="1" class="text-left"></td> 

                                <td colspan="1" class="text-left"></td> 
                                <td colspan="1"><strong>SOLICITUD N°</strong></td> 
                                <t t-set="id_anticipo" t-value="o.get_anticipo_per_employee(e)"/>
                                <td colspan="1" class="text-left"><span t-esc="id_anticipo.id"/></td>
                                <td colspan="1" class="text-left"></td> 

                                
                                
                            </tr>
                            <tr>
                                <td colspan="1" class="text-left"></td> 
                                
                                <td colspan="4" style="width:160px; border-bottom:1px solid black;"></td>
                                <td colspan="1" class="text-left"></td> 

                                
                            </tr>
                            <tr>
                                <td colspan="1"></td>
                                <td colspan="1"><strong>CONCEPTO</strong></td>
                                <td colspan="1"><strong>ACUMULADO PRESTA.SOC.</strong></td>
                                <td colspan="1"><strong>PORCENTAJE</strong></td>
                                <td colspan="1"><strong>MONTO</strong></td>
                                <td colspan="1"></td>

                                 
                                
                            </tr>
                            <tr>
                                <td colspan="1"></td>
                                <td colspan="4" style="width:160px; border-bottom:1px solid black;"></td>
                                <td colspan="1"></td>
                            </tr>
                            <tr>
                                        <td colspan="1"></td>

                                        <td colspan="1">Anticipo <t t-if="o.anticipo_intereses">
                                            intereses prest.
                                        </t>
                                        <t t-else="">
                                            prestaciones
                                        </t></td>
                                        <td colspan="1"><span t-esc="((round(id_anticipo.anticipos_otorga + id_anticipo.prestaciones_acu),2) if id_anticipo else 0)"/></td>
                                        <td colspan="1" ><span t-esc="o.porcentaje if not o.anticipo_intereses else 100"/>%</td>
                                        <td colspan="1" ><span t-esc="(round(id_anticipo.anticipos_otorga,2)  if id_anticipo else 0)"/></td>
                                        <t t-set="total" t-value="total+ (round(id_anticipo.anticipos_otorga,2)  if id_anticipo else 0)"/>
                                        <td colspan="1"></td>

                                        
                            </tr>
                           
                                
                        <tr>
                            <td colspan="1"></td>

                            <td colspan="1"></td>
                            <td colspan="1"></td>
                            <td colspan="1" ><strong>TOTAL A PAGAR:</strong></td>
                            <td colspan="1" ><span t-esc="total"/></td>
                            <td colspan="1"></td>

                        </tr>
                        <br/>
                        <br/>
                        
                        
                        </table>
                        <br/>
                        <br/>
                        <table class="table table-sm table-borderless">
                            <tr>
                                <td colspan="1" style="width:30px; border-bottom:1px solid white;"></td>
                                <td colspan="1" class="text-center"> <strong>AUTORIZADO POR</strong></td>
                                <td colspan="1" style="width:30px; border-bottom:1px solid white;"></td>
                                <td colspan="1" class="text-center"> <strong>FIRMA RECIBIDO</strong></td>
                                <td colspan="1" style="width:30px; border-bottom:1px solid white;"></td>
                            </tr>
                            <tr>
                                <td colspan="1" style="height:10px; border-bottom:1px solid white;"></td>
                            </tr>
                            <tr>
                                <td colspan="1" style="width:30px; border-bottom:1px solid white;"></td>
                                <td colspan="1" style="width:40px; border-bottom:1px solid black;"></td>
                                <td colspan="1" style="width:30px; border-bottom:1px solid white;"></td>
                                <td colspan="1" style="width:40px; border-bottom:1px solid black;"></td>
                                <td colspan="1" style="width:30px; border-bottom:1px solid white;"></td>
                            </tr>
                        </table>

                        

                    </div>
                </t>
            </t>
            </t>
        </t>
    </template>
    

    <template id="report_rel_general_pago">
        <t t-call="web.html_container">

            <t t-set="data_report_margin_top" t-value="10"/>
            <t t-call="web.basic_layout">
                <style type="text/css">
                    ::root{
                        font-size: 0.8rem;
                    }
                    html{
                        
                        margin:0px;
                        padding:0px;
                    }
                    #logos >span{
                        font-size:10px;
                    }
                    .borrel{
                        border: 2px solid black;
                        border-radius: 12px
                    }

                </style>
                <div class="container borrel">
                    <div class="row">
                        <div class="col-2">
                            <img style="height: 120px; width:120px; margin-top:15px;" t-attf-src="data:image/*;base64,{{logo}}" t-att-alt="company['name']" />
                        </div>
                        <div  class="col-8 text-center">
                            <div class="container" style="font-size: 0.7rem;">
                                <div class="row">
                                    <div class="col-12 text-center"><span t-esc="company['name']" style="font-size:1.1rem;"/></div>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-center">◄►NOMINA◄►</div>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-center" style="font-size:1.1rem;"><b>DEPOSITO DE SUELDO</b></div>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-center">
                                        DEL: <span t-esc="inicio"/> - AL: <span t-esc="final"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-3 text-right">
                                        EMPLEADO INICIAL:
                                    </div>
                                    <div class="col-3 text-left">
                                        <span t-esc="lineas[0]['employee'][:14]"/>
                                    </div>
                                    <div class="col-3 text-right">
                                        EMPLEADO FINAL:
                                    </div>
                                    <div class="col-3 text-left">
                                        <span t-esc="lineas[-1]['employee'][:14]"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-3 text-right">
                                        DEPT. INICIAL:
                                    </div>
                                    <div class="col-3 text-left">
                                        <span t-esc="departamentos[0].get('name')[:14]"/>
                                    </div>
                                    <div class="col-3 text-right">
                                        DEPT. FINAL:
                                    </div>
                                    <div class="col-3 text-left">
                                        <span t-esc="departamentos[-1].get('name')[:14]"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-3 text-right">
                                        FECHA INICIAL:
                                    </div>
                                    <div class="col-3 text-left">
                                        <span t-esc="inicio"/>
                                    </div>
                                    <div class="col-3 text-right">
                                        FECHA FINAL:
                                    </div>
                                    <div class="col-3 text-left">
                                        <span t-esc="final"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-3 text-right">
                                        TIPO NOMINA:
                                    </div>
                                    <div class="col-6 text-left">
                                        <span t-esc="estructura"/>
                                    </div>
                                </div>
                            </div>            
                             
                        </div>
                        <div class="col-2">
                            <table class="table table-sm table-borderless" style="font-size:0.8rem;white-space:nowrap;">
                                <tr>
                                    <td class="text-right" ><b>FECHA:</b></td>
                                    <td><span t-esc="hoy" /></td>
                                </tr>
                                <tr>
                                    <td class="text-right" ><b>HORA:</b></td>
                                    <td><span t-esc="hora" /></td>
                                </tr>
                                
                            </table>
                        </div>
                    </div>
                    
                </div>
                <div class="container borrel" style="margin-top:5px;">
                    <div class="row">
                        <div class="col-1 text-left">
                            COD.
                        </div>
                        <div class="col-2 text-left">
                            CEDULA
                        </div>
                        <div class="col-3 text-left">
                            NOMBRE
                        </div>
                        <div class="col-3 text-center">
                            N° DE CUENTA
                        </div>
                        <div class="col-3 text-right">
                            MONTO
                        </div>
                        
                    </div>
                
                    
                </div>
                <div class="container" style="font-size:0.8rem;">
                    
                    <t t-foreach="lineas" t-as="line">
                        <div class="row">
                            <div class="col-1 text-left">
                                <span t-esc="line.get('eid')"/>
                            </div>
                            <div class="col-2 text-left">
                                <span t-esc="line.get('ci')"/>
                            </div>
                            <div class="col-3 text-left">
                                <span t-esc="line.get('employee')"/>
                            </div>
                            <div class="col-3 text-center">
                                <span t-esc="line.get('cuentabanco')"/>
                            </div>
                            <div class="col-3 text-right">
                                <span t-esc="round(line.get('total',0),2)" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/>
                            </div>

                        </div>
                        
                    </t>
                    <div class="row">
                        <div class="col-6">
                            
                        </div>
                        <div class="col-3 text-center">
                            TOTAL GENERAL:
                        </div>
                        
                        <div class="col-3 text-right" style="border-top:3px solid black;">
                            <span t-esc="round(totaltotal,2)" t-options='{"widget": "float", "precision": 2}'/><span t-esc="symbol"/>
                        </div>
                        
                        
                    </div>
                    <div class="row">
                        <div class="col-6">
                            
                        </div>
                        <div class="col-3 text-center">
                           
                        </div>
                        
                        <div class="col-3" style="border-top:6px solid black; border-style:double;">
                        </div>
                        
                    </div>
                </div>
                
                        
            </t>

    </t>

    </template>


    <template id="report_payslip_liquidacion">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="data_report_margin_top" t-value="10"/>
                <t t-call="web.basic_layout">
                    <style type="text/css">
                        ::root{
                            font-size: 1.5rem;
                        }
                        html{
                            
                            margin:0px;
                            padding:0px;
                        }
                        #logos >span{
                            font-size:10px;
                        }
                        .spaced{
                            padding:0.3rem;
                        }
                        .colored >:nth-child(odd){
                            background-color:rgb(222, 220, 215);
                        }
                        .spaced div {
                            margin-top:0.3rem;
                        }
                        .spaced :last-child{
                            margin-bottom: 0.2rem;
                        }
    
                    </style>
                    <div class="container">
                        <div class="row">

                            <div class="col-8">
                                <div>
                                    <h5 t-field="o.company_id.name"/> 
                                </div>
                                <div style="color:gray;">
                                    Recibo de Pago de Prestaciones Sociales y Otros Conceptos Laborales
                                </div>
                            </div>
                            <div class="col-4 ">
                                <img  t-if="o.company_id.logo" t-att-src="image_data_uri(o.company_id.logo)" height="100px" style="max-width: 150px;padding-left:5px; position:absolute; right:10%;"/>

                            </div>
                        </div>

                    </div>
                        
                        <div class="spaced" style="border: 1px solid gray;">
                        <div class="row">
                            <div class="col-6">
                                <b style="font-size:0.8rem;">TRABAJADOR:</b> <span t-esc="o.employee_id.name"/>
                            </div>
                            <div class="col-6">
                                <b style="font-size:0.8rem;">C.I. / R.I.F.:</b> <span t-esc="o.employee_id.identification_id_2 or o.employee_id.rif"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <b style="font-size:0.8rem;">CARGO:</b> <span t-field="o.employee_id.job_title"/>
                            </div>
                            <div class="col-6"> 
                                <b style="font-size:0.8rem;">MOTIVO DE CULMINACIÓN DE RELACIÓN DE TRABAJO:</b> <span t-field="o.motivo"></span>
                            </div>
                        </div>
                    </div>
                        <div class="text-center" >
                            <table class="w-100" style="font-size:0.7rem;border: 1px solid rgb(222, 220, 215); border-radius:10px; border-collapse:collapse;">
                                <caption  class="text-center" style="caption-side:top; font-size:1.1rem;">Tiempo de servicio</caption>
                                <thead class="text-center">
                                    <th>FECHA INGRESO</th>
                                    <th>FECHA EGRESO</th>
                                    <th>AÑOS</th>
                                    <th>MESES</th>
                                    <th>DIAS</th>
                                </thead>
                                <tbody>
                                    <th><span t-field="o.employee_id.fecha_inicio"/></th>
                                    <th><span t-field="o.fecha"/></th>
                                    <th><span t-field="o.ao"/></th>
                                    <th><span t-field="o.mes"/></th>
                                    <th><span t-field="o.dia"/></th>
                                </tbody>
                            </table>
                        </div>
                        <div class="container colored" style="margin-top:1rem;font-size:0.7rem;">
                            <div class="row">
                                <div class="col-8 text-left">
                                    Ultimo Salario Mensual
                                </div>
                                <div class="col-4 text-right">
                                    <t t-if="o.sal_diario">
                                        <span t-esc="round((round(o.sal_diario,2) - round(o.alicuota_utilidades,2) - round(o.alicuota_vacaciones,2))*30,2)" t-options='{"widget": "float", "precision": 2}'/>        
                                    </t>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-8 text-left">
                                    Salario Diario Normal
                                </div>
                                <div class="col-4 text-right">
                                    <t t-if="o.contract_id.wage">
                                        <span t-esc="round(o.sal_diario,2) - round(o.alicuota_utilidades,2) - round(o.alicuota_vacaciones,2)" t-options='{"widget": "float", "precision": 2}'/>        
                                    </t>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-8 text-left">
                                    <t t-if="o.company_id.is_no_lucrative">
                                        Alicuota Bono Fin de Año
                                    </t>
                                    <t t-else="">
                                        Alicuota Utilidades
                                    </t>
                                </div>
                                <div class="col-4 text-right">
                                    <t t-if="o.alicuota_utilidades">
                                        <span t-esc="round(o.alicuota_utilidades,2)" t-options='{"widget": "float", "precision": 2}'/>        
                                    </t>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-8 text-left">
                                    Alicuota Bono Vacacional
                                </div>
                                <div class="col-4 text-right">
                                    <t t-if="o.alicuota_vacaciones">
                                        <span t-esc="round(o.alicuota_vacaciones,2)" t-options='{"widget": "float", "precision": 2}'/>        
                                    </t>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-8 text-left">
                                    Salario Diario Integral
                                </div>
                                <div class="col-4 text-right">
                                    <t t-if="o.sal_diario">
                                        <span t-esc="round(o.sal_diario,2)" t-options='{"widget": "float", "precision": 2}'/>        
                                    </t>
                                </div>
                            </div>
                            <!-- <div class="row">
                                <div class="col-8 text-left">
                                    Salario de Bonificación Fin de Año
                                </div>
                                <div class="col-4 text-right">
                                    <t t-if="o.contract_id.wage and o.alicuota_vacaciones">
                                        <span t-esc="round(o.contract_id.wage/30+o.alicuota_vacaciones,2)" t-options='{"widget": "float", "precision": 2}'/>        
                                    </t>
                                </div>
                            </div> -->
                            <div class="row">
                                <div class="col-8 text-left">
                                    Prestaciones Sociales Art. 142 Literal C
                                </div>
                                <div class="col-4 text-right">
                                    <t t-if="o.minimo_a_liquidar">
                                        <span t-esc="round(o.minimo_a_liquidar,2)" t-options='{"widget": "float", "precision": 2}'/>        
                                    </t>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-8 text-left">
                                    Prestaciones Sociales Acumuladas Art. 142 Literal A
                                </div>
                                <div class="col-4 text-right">
                                    <t t-if="o.prestacion_total">
                                        <span t-esc="round(o.prestacion_total,2)" t-options='{"widget": "float", "precision": 2}'/>        
                                    </t>
                                </div>
                            </div>
                        </div>
                        <t t-if="o.terminated_payslip">
                            <t t-set="lines_termination" t-value="o.terminated_payslip.line_ids.filtered(lambda x:x.salary_rule_id.appears_on_payslip)"/>
                        </t>
                        <t t-if="o.vacation_payslip">
                            <t t-set="lines_vacation" t-value="o.vacation_payslip.line_ids.filtered(lambda x:x.salary_rule_id.appears_on_payslip)"/>
                        </t>
                        <t t-if="lines_termination and lines_vacation">
                            <t t-set="lines" t-value="lines_termination +lines_vacation"/>
                        </t>
                        <t t-elif="lines_termination">
                            <t t-set="lines" t-value="lines_termination"/>

                        </t>
                        <t t-else="">
                            <t t-set="lines" t-value="[]"/>

                        </t>
                        <t t-if="len(lines)&gt;0">
                        <div class="container colored"  style="font-size:0.8rem;" >
                            <div class="row" style="margin-top:2rem;border-style:double; border: 2px solid black;">
                                <div class="col-12"> 
                                   <b style="font-size:1.2rem;">Asignaciones</b>
                                </div>
                                
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <b>CONCEPTO</b>
                                </div>
                                <div class="col-2 text-right">
                                    Dias
                                </div>
                                <div class="col-2 text-right">
                                    Salario
                                </div>
                                <div class="col-2 text-right">
                                    Monto
                                </div>
                            </div>
                            <!-- loop filtered(lambda x: x.category_id.code not in ['DED','COMP'])-->
                            <t t-set="total_asignaciones" t-value="0"/>
                            <t t-foreach="lines.filtered(lambda x: x.category_id.code not in ['DED','COMP'])" t-as="line">
                                <div class="row">
                                    <div class="col-6">
                                        <b><span t-field="line.name"/></b>
                                    </div>
                                    <div class="col-2 text-right">
                                        <span t-field="line.quantity"/>
                                    </div>
                                    <div class="col-2 text-right">
                                        <span t-field="line.amount" t-options='{"widget": "float", "precision": 2}'/>
                                    </div>
                                    <div class="col-2 text-right">
                                        <span t-field="line.total" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="total_asignaciones" t-value="total_asignaciones + line.total"/>
                                    </div>
                                </div>  
                            </t>
                            <div class="row" style="border-style:double; border-top: 1px solid black;">
                                <div class="col-8">
                                    <b>TOTAL ASIGNACIONES</b>
                                </div>
                                <div class="col-4 text-right">
                                    <b><span t-esc="round(total_asignaciones,2)" t-options='{"widget": "float", "precision": 2}'/></b>
                                </div>
                            </div>  
                        </div>

                        <div class="container colored" style="font-size:0.8rem;">
                            <div class="row" style="margin-top:2rem;border-style:double; border: 2px solid black;">
                                <div class="col-12"  >
                                   <b style="font-size:1.2rem;">Deducciones</b>
                                </div>  
                            </div>
                            
                            <!-- loop .filtered(lambda x: x.category_id.code in ['DED'])-->
                            <t t-set="total_deducciones" t-value="0"/>
                            <t t-foreach="lines.filtered(lambda x: x.category_id.code in ['DED'])" t-as="line">
                                <div class="row">
                                    <div class="col-6">
                                        <b><span t-field="line.name"/></b>
                                    </div>
                                    <div class="col-2 text-right">
                                        <span t-field="line.quantity"/>
                                    </div>
                                    <div class="col-2 text-right">
                                        <span t-field="line.amount" t-options='{"widget": "float", "precision": 2}'/>
                                    </div>
                                    <div class="col-2 text-right">
                                        <span t-field="line.total" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="total_deducciones" t-value="total_deducciones + line.total"/>
                                    </div>
                                </div>  
                            </t>
                            <div class="row" style="border-style:double; border-top: 1px solid black;">
                                <div class="col-8">
                                    <b>TOTAL DEDUCCIONES</b>
                                </div>
                                <div class="col-4 text-right">
                                    <b><span t-esc="round(total_deducciones,2)" t-options='{"widget": "float", "precision": 2}'/></b>
                                </div>
                            </div>
                            <div class="row" style="border-style:double; border-top: 3px solid black;">
                                <div class="col-8">
                                    <b>TOTAL A PAGAR</b>
                                </div>
                                <div class="col-4 text-right">
                                    <b><span t-esc="round(total_asignaciones-total_deducciones,2)" t-options='{"widget": "float", "precision": 2}'/></b>
                                </div>
                            </div>    
                            
                        </div>
                    </t>
                        <div class="text-justify font-weight-light" style="margin-top:0.5rem;margin-bottom:0.5rem;font-size:0.8rem;">
                            Yo, <span t-field="o.employee_id.name"/>, ya  identificado, declaro recibir a mi entera y cabal satisfacción por parte de la empresa, la cantidad de: <span t-esc="round(total_asignaciones-total_deducciones,2) if total_asignaciones and total_deducciones else ''"/> , correspondiente a salarios, pasivos, indemnizaciones y demas beneficios laborales, generados durante la relacion laboral, de conformidad con lo establecido en la Ley Orgánica del trabajo, los Trabajadores y las Trabajadoras (LOTTT), por lo que no queda a reclamar ningún concepto laboral.
                        </div>
                        <div class="container">
                            <div class="row">
                                <div class="col-6" style="padding:5px;height:100px;">
                                    <span  t-esc="'FIRMA:'.ljust(60,'_')"/><br/>
                                    <span  t-esc="'C.I.:'.ljust(63,'_')"/><br/>
                                    <span  t-esc="'FECHA:'.ljust(60,'_')"/><br/>
                                </div>
                                <div class="col-6 text-center align-top" style="border:1px solid rgb(222, 220, 215);">
                                    Huellas
                                </div>
                            </div>
                        </div>
                        <div class="container" style="margin-top:1.5rem;">
                            <div class="row" >
                                <div class="col-4 text-center align-top font-weight-light" style="border:1px solid rgb(222, 220, 215); font-size:0.8;height:100px;">
                                    Elaborado por:
                                </div>
                                <div class="col-4 text-center align-top font-weight-light" style="border:1px solid rgb(222, 220, 215);font-size:0.8;height:100px;">
                                    Revisado por:
                                </div>
                                <div class="col-4 text-center align-top font-weight-light" style="border:1px solid rgb(222, 220, 215);font-size:0.8;height:100px;">
                                    Recibido por:
                                </div>
                            </div>
                        </div>
                    
                </t>
            </t>
        </t>
    </template>
    <template id="report_acum_rel_nomina_var">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="data_report_margin_top" t-value="10"/>
                <t t-call="web.basic_layout">
                    <style type="text/css">
                        ::root{
                            font-size: 1.5rem;
                        }
                        html{
                            
                            margin:0px;
                            padding:0px;
                        }
                        #logos >span{
                            font-size:10px;
                        }
                        .spaced{
                            padding:0.3rem;
                        }
                        .colored >:nth-child(odd){
                            background-color:rgb(222, 220, 215);
                        }
                        .spaced div {
                            margin-top:0.3rem;
                        }
                        .spaced :last-child{
                            margin-bottom: 0.2rem;
                        }
    
                    </style>
                    
                    <div class="container borrel">
                        <div class="row">
                            <div class="col-2">

                            </div>
                            <div  class="col-8 text-center">
                                <div class="container" style="font-size: 0.7rem;">
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.name" style="font-size:1.1rem;"/></div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-12 text-center" style="font-size:1.1rem;"><b>ACUMULADO DE RELACIÓN NÓMINA SALARIOS VARIABLES</b></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">
                                            DEL: <span t-esc="inicio"/> - AL: <span t-esc="final"/>
                                        </div>
                                    </div>
                                     <div class="row" style="margin-top:1rem;">
                                        <div class="col-6 text-right">
                                            EMPLEADO :
                                        </div>
                                        <div class="col-6 text-left">
                                            <span t-esc="o.name"/>
                                        </div>
                                        
                                    </div>
                                    <div class="row">
                                        <div class="col-3 text-right">
                                            DEPARTAMENTO:
                                        </div>
                                        <div class="col-3 text-left">
                                            <span t-field="o.department_id.name"/>
                                        </div>
                                       
                                    </div> 
                                    <div class="row">
                                        <div class="col-3 text-right">
                                            FECHA INICIAL:
                                        </div>
                                        <div class="col-3 text-left">
                                            <span t-esc="inicio"/>
                                        </div>
                                        <div class="col-3 text-right">
                                            FECHA FINAL:
                                        </div>
                                        <div class="col-3 text-left">
                                            <span t-esc="final"/>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-3 text-right">
                                             NOMINA SEGUN CONTRATO:
                                        </div>
                                        <div class="col-6 text-left">
                                            <span t-field="o.contract_id.struct_id.name"/>
                                        </div>
                                    </div>
                                </div>            
                                 
                            </div>
                            <div class="col-2">
                                <table class="table table-sm table-borderless" style="font-size:0.8rem;white-space:nowrap;">
                                    <tr>
                                        <td class="text-right" ><b>FECHA:</b></td>
                                        <td><span t-esc="hoy" /></td>
                                    </tr>
                                    <tr>
                                        <td class="text-right" ><b>HORA:</b></td>
                                        <td><span t-esc="hora" /></td>
                                    </tr>
                                    
                                </table>
                            </div>
                        </div>
                        
                    </div>
                    <div class="colored borrel">
                        <div class="container">
                            <div class="row" style="border-bottom: 2px solid black;">
                                <div class="col-4 text-center">
                                    CONCEPTO 
                                </div>
                                <div class="col-2 text-center">
                                    CANTIDAD
                                </div>
                                <div class="col-2 text-center">
                                    INGRESO
                                </div>
                                <div class="col-2 text-center">
                                    EGRESO
                                </div>
                                <div class="col-2 text-center">
                                    SALDO
                                </div>
                            </div>
                        </div>
                    </div>
                    <t t-set="nomis" t-value="o.env['hr.payslip'].search([('date_from','&gt;=',inicio),('date_from','&lt;=',final),('employee_id','=',o.id)])"/>
                        <t t-set="total_asignaciones" t-value="0"/>
                        <t t-set="total_deducciones" t-value="0"/>
                        <div class="container">
                        
                        <t t-foreach="nomis" t-as="nomina">
                            <t t-set="basics" t-value="nomina.line_ids.filtered(lambda line: line.category_id.code == 'BASIC')"/>
                            <t t-set="deduciones" t-value="nomina.line_ids.filtered(lambda line: line.category_id.code == 'DED')"/>

                            <t t-if="basics or deduciones">
                                <div class="row" style="background-color:rgb(222, 220, 215); padding-left:3px;">
                                    <span t-esc="nomina.name"/>
                                </div>    
                                <t t-foreach="basics" t-as="linea">
                                    <div class="row">
                                        <div class="col-4">
                                            <span t-field="linea.name"/>
                                        </div>
                                        <div class="col-2 text-right">
                                            <span t-field="linea.quantity"/>
                                        </div>
                                        <div class="col-2 text-right">
                                            <span t-field="linea.total"/>
                                        </div>
                                        <div class="col-2 text-right">
                                            ---
                                        </div>
                                        <div class="col-2 text-center">
                                            <t t-set="total_asignaciones" t-value="total_asignaciones+linea.total"/>
    
                                        </div>
                                    </div>
                                </t>
                                <t t-foreach="deduciones" t-as="linea">
                                    <div class="row">
                                        <div class="col-4">
                                            <span t-field="linea.name"/>
                                        </div>
                                        <div class="col-2 text-right">
                                            <span t-field="linea.quantity"/>
                                        </div>
                                        <div class="col-2 text-right">
                                            ---
                                        </div>
                                        <div class="col-2 text-right">
                                            <span t-field="linea.total"/>
                                        </div>
                                        <div class="col-2 text-center">
                                            <t t-set="total_deducciones" t-value="total_deducciones+linea.total"/>
                                        </div>
                                    </div>
                                </t>
                            </t>
                            
                        </t>
                        <div class="row" style="border-top:1px solid black;">
                            <div class="col-4 text-right">
                                TOTAL:
                            </div>
                            <div class="col-2 text-right">
                                ---
                            </div>
                            <div class="col-2 text-right">
                                <span t-esc="round(total_asignaciones,2)"/>
                            </div>
                            <div class="col-2 text-right">
                                <span t-esc="round(total_deducciones,2)"/>
                            </div>
                        <div class="col-2 text-right">
                            <span t-esc="round(total_asignaciones-total_deducciones,2)"/>                                </div>
                        </div>
                        
                        </div>
                    </t>
                </t>
        </t>
        
    </template>

    <template id="report_listado_beneficios">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="data_report_margin_top" t-value="10"/>
                <t t-call="web.basic_layout">
                    <style type="text/css">
                        ::root{
                            font-size: 1.5rem;
                        }
                        html{
                            
                            margin:0px;
                            padding:0px;
                        }
                        #logos >span{
                            font-size:10px;
                        }
                        .spaced{
                            padding:0.3rem;
                        }
                        .colored >:nth-child(odd){
                            background-color:rgb(222, 220, 215);
                        }
                        .spaced div {
                            margin-top:0.3rem;
                        }
                        .spaced :last-child{
                            margin-bottom: 0.2rem;
                        }
    
                    </style>
                    
                    <div class="container borrel">
                        <div class="row">
                            <div class="col-2">

                            </div>
                            <div  class="col-8 text-center">
                                <div class="container" style="font-size: 0.7rem;">
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.name" style="font-size:1.1rem;"/></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">◄►LISTADO DE BENEFICIOS◄►</div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-12 text-center">
                                            DEL: <span t-esc="o.date_start"/> - AL: <span t-esc="o.date_end"/>
                                        </div>
                                    </div>
                                     
                                </div>            
                                 
                            </div>
                            <div class="col-2">
                                <table class="table table-sm table-borderless" style="font-size:0.8rem;white-space:nowrap;">
                                    <tr>
                                        <td class="text-right" ><b>FECHA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y')" /></td>
                                    </tr>
                                    <tr>
                                        <td class="text-right" ><b>HORA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%H:%M:%S')" /></td>
                                    </tr>
                                    
                                </table>
                            </div>
                        </div>
                        
                    </div>
                    <table class="table table-bordered">
                        
                            <thead  class="thead-light">
                                <th colspan="1" class="text-center">
                                    Cod. Emp.
                                </th>
                                <th colspan="2" class="text-center">
                                    Empleado
                                </th>
                                <th colspan="2" class="text-center">
                                    C.I.
                                </th>

                                <th colspan="5" class="text-justificado"  style="min-width:150px;">
                                    Beneficios Entregados 
                                </th>
                                
                                <th colspan="2" class="text-center" style="min-width:150px;">
                                    Firma
                                </th>
                                
                            </thead>
                        
                            <t t-set="empleados" t-value="o.env['hr.employee'].search([('contract_id','!=',False)])"/>
                            <tbody  >
                            <t t-foreach="empleados" t-as="e">
                                <tr>
                                    <td colspan="1" class="text-center">
                                        <span t-field="e.emp_id"/>
                                    </td>
                                    <td colspan="2" class="text-center">
                                        <span t-field="e.name"/>
                                    </td>
                                    <td colspan="2" class="text-center">
                                        <span t-field="e.identification_id_2"/>
                                    </td>
                                    <td colspan="5" class="text-center" >
                                        <t t-foreach="o.beneficios.filtered(lambda x:x.type_of_right=='inherent')" t-as="beneficios">
                                            <span>
                                                Básicos: <t t-esc="beneficios.producto_id.name"/> x <t t-esc="beneficios.product_quantity"/> ,
                                            </span>
                                        
                                        </t>
                                        <t t-if="e.puntual">
                                            <t t-foreach="o.beneficios.filtered(lambda x:x.type_of_right=='puntual')" t-as="beneficios">
                                                <span>
                                                    Por puntualidad:<t t-esc="beneficios.producto_id.name"/> x <t t-esc="beneficios.product_quantity"/> ,
                                                </span>
                                            </t> 
                                        </t>
                                        <t t-if="e.exemplar">
                                            <t t-foreach="o.beneficios.filtered(lambda x:x.type_of_right=='exemplar')" t-as="beneficios">
                                                <span>
                                                    Trabajador ejemplar:<t t-esc="beneficios.producto_id.name"/> x <t t-esc="beneficios.product_quantity"/> ,
                                                </span>
                                            </t> 
                                        </t>
                                        
                                    </td>
                                    <td colspan="2" class="text-center" >
                                    </td>
                                </tr>  
                            </t>
                                </tbody>
                            
                        
                    
                    </table>
                </t>
            </t>       
        </t>
    </template>

    <template id="report_historial_prestamos">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="data_report_margin_top" t-value="10"/>
                <t t-call="web.basic_layout">
                    <style type="text/css">
                        ::root{
                            font-size: 1.5rem;
                        }
                        html{
                            
                            margin:0px;
                            padding:0px;
                        }
                        #logos >span{
                            font-size:10px;
                        }
                        .spaced{
                            padding:0.3rem;
                        }
                        .colored >:nth-child(odd){
                            background-color:rgb(222, 220, 215);
                        }
                        .spaced div {
                            margin-top:0.3rem;
                        }
                        .spaced :last-child{
                            margin-bottom: 0.2rem;
                        }
    
                    </style>
                    
                    <div class="container borrel">
                        <div class="row">
                            <div class="col-2">

                            </div>
                            <t t-set="prestamos" t-value="o.loan_ids.sorted(lambda x: x.start_date)"/>
                            <div  class="col-8 text-center">
                                <div class="container" style="font-size: 0.8rem;">
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.name" style="font-size:1.1rem;"/></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">◄►Historial Prestamos◄►</div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.name"/></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">
                                            DEL: <span t-esc="prestamos[0].start_date if prestamos and prestamos[0].start_date else ''"/> - AL: <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y')"/>
                                        </div>
                                    </div>
                                     
                                </div>            
                                 
                            </div>
                            <div class="col-2">
                                <table class="table table-sm table-borderless" style="font-size:0.8rem;white-space:nowrap;">
                                    <tr>
                                        <td class="text-right" ><b>FECHA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y')" /></td>
                                    </tr>
                                    <tr>
                                        <td class="text-right" ><b>HORA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%H:%M:%S')" /></td>
                                    </tr>
                                    
                                </table>
                            </div>
                        </div>
                    <hr/>
                    <br/>
                    </div>
                    <t t-foreach="prestamos" t-as="p">
                        <div class="container rounded-10 border bg-light" >
                            <div class="row">
                                <div class="col-12 text-left">
                                    <p t-field="p.name"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4 text-left">
                                    Financiera:<span t-field="p.financial_partner_id.name"/>
                                </div>
                                <div class="col-4 text-left">
                                    Monto del Prestamo: <span t-field="p.amount"/>
                                </div>
                                <div class="col-2 text-left">
                                    Tarifa Interes: <span t-esc="round(p.rate_id.rate,2)"/>
                                </div>
                                <div class="col-2 text-left">
                                    Fecha: <span t-field="p.start_date"/>
                                </div>
                            </div>
                        </div>
                        
                        <table class="table table-bordered">
                            
                            <thead  class="thead-light">
                                <th class="text-center" >
                                    Fecha
                                </th>
                                <th class="text-center">
                                    Cuota
                                </th>
                                <th class="text-center">
                                    Total
                                </th>
                                <th  class="text-center" >
                                    Nómina
                                </th>
                                <th  class="text-center" >
                                    Fecha de Pago
                                </th>
                                <th  class="text-center" >
                                    Pagada
                                </th>
                                
                            </thead>
                        
                            <t t-set="lineas" t-value="p.loan_line_ids"/>
                            <tbody  >
                            <t t-foreach="lineas" t-as="l">
                                <tr>
                                    <td>
                                        <span t-field="l.date"/>
                                    </td>
                                    <td>
                                        <span t-field="l.dues"/>
                                    </td>
                                    <td>
                                        <span t-field="l.total"/>
                                    </td>
                                    <td>
                                        <span t-field="l.payslip_id.name"/>
                                    </td>
                                    <td>
                                        <span t-field="l.date_paid"/>
                                    </td>
                                    <td class="text-center">
                                        <t t-if="l.paid">
                                            <span style="color:rgb(162, 250, 135)">Pagada</span>
                                        </t>
                                        <t t-else="">
                                            <span style="color:rgb(199, 179, 184)">Pendiente</span>
                                        </t>
                                    </td>
                                </tr>  
                            </t>
                                </tbody>
                    </table>
                    <hr/>
                    </t>
                    
                </t>
            </t>       
        </t>
        
    </template>
    <template id="report_inces_trimestralcateg">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="data_report_margin_top" t-value="10"/>
                <t t-call="web.basic_layout">
                    <style type="text/css">
                        ::root{
                            font-size: 1.2rem;
                        }
                        html{
                            
                            margin:0px;
                            padding:0px;
                        }
                        #logos >span{
                            font-size:10px;
                        }
                        .spaced{
                            padding:0.3rem;
                        }
                        .colored >:nth-child(odd){
                            background-color:rgb(222, 220, 215);
                        }
                        .spaced div {
                            margin-top:0.3rem;
                        }
                        .spaced :last-child{
                            margin-bottom: 0.2rem;
                        }
    
                    </style>
                    
                    <div class="container borrel">
                        <div class="row">
                            <div class="col-2">

                            </div>
                            <div  class="col-8 text-center">
                                <div class="container" style="font-size: 0.8rem;">
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.name" style="font-size:1.1rem;"/></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.rif" /></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">N° de aportante: <span t-field="o.company_id.company_registry" /></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">◄►Reporte Inces◄►</div>
                                    </div>
                                    <div class="row">
                                        <t t-if="o.trimestre=='1'">
                                            <div class="col-12 text-center">PRIMER TRIMESTRE - <span t-esc="o.para_fecha.year"/></div>
                                        </t>
                                        <t t-elif="o.trimestre=='2'">
                                            <div class="col-12 text-center">SEGUNDO TRIMESTRE - <span t-esc="o.para_fecha.year"/></div>
                                        </t>
                                        <t t-elif="o.trimestre=='3'">
                                            <div class="col-12 text-center">TERCER TRIMESTRE - <span t-esc="o.para_fecha.year"/></div>
                                        </t>
                                        <t t-else="">
                                            <div class="col-12 text-center">CUARTO TRIMESTRE - <span t-esc="o.para_fecha.year"/></div>
                                        </t>
                                        
                                    </div>
                                    
                                     
                                </div>            
                                 
                            </div>
                            <div class="col-2">
                                <table class="table table-sm table-borderless" style="font-size:0.8rem;white-space:nowrap;">
                                    <tr>
                                        <td class="text-right" ><b>FECHA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y')" /></td>
                                    </tr>
                                    <tr>
                                        <td class="text-right" ><b>HORA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%H:%M:%S')" /></td>
                                    </tr>
                                    
                                </table>
                            </div>
                        </div>
                    <hr/>
                    <br/>
                    </div>
                        <t t-set="empleados" t-value="o.env['hr.employee'].search([('company_id','=',o.company_id.id)])"/>
                        <t t-if="o.employee_tags">
                            <t t-set="empleados" t-value="o.env['hr.employee'].search([('company_id','=',o.company_id.id),('category_ids','in',o.employee_tags.ids)])"/>
                        </t>
                        <t t-else="">
                            <t t-set="empleados" t-value="o.env['hr.employee'].search([('company_id','=',o.company_id.id)])"/>
                        </t>
                        <t t-if="o.autoriza_retencion ">
                            <t t-set="empleados" t-value="empleados.filtered(lambda x:x.autoriza_retencion)"/>
                        </t>
                        <t t-else="">
                        </t>
                        <t t-set="empleados_filtrados" t-value="empleados.filtered(lambda x: x.contract_id.structure_type_id.default_schedule_pay!='weekly')"/>
                        <t t-set="obreros" t-value="empleados.filtered(lambda x: x.contract_id.structure_type_id.default_schedule_pay=='weekly')"/>
                        <!-- datos para la sumatoria final -->
                        <t t-set="sumatoriautilidades_total" t-value="0"/>
                        <t t-set="sumatoriatotal_total" t-value="0"/>
                        <t t-set="sumatoriaaporttraba_total" t-value="0"/>
                        <t t-set="sumatoriaaportempre_total" t-value="0"/>
                        <t t-set="absolute_total" t-value="0"/>
                        <t t-if="empleados_filtrados">
                            <t t-set="departments" t-value="empleados_filtrados.mapped('department_id')"/>
                            <table class="table table-bordered table-sm" style="font-size:0.6rem;">
                            
                                <thead  class="thead-light">
                                    <tr>
                                        <th>
                                            EMPLEADO
                                        </th>
                                        <th colspan="7"  class="text-center align-middle">
                                            PERIODOS
                                        </th>
                                        <th class="text-center align-middle">
                                            <span t-esc="str(o.company_id.por_empresa_rpe)+'%'"/>
                                        </th>
                                        <th class="text-center align-middle">
                                            <span t-esc="str(o.company_id.por_empleado_rpe)+'%'"/>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th>NOMBRE Y APELLIDOS</th>
                                        <t t-if="o.trimestre=='1'">
                                            <th>NÓMINA ENERO-<span t-esc="o.para_fecha.year"/></th>
                                            <th>NÓMINA FEBRERO-<span t-esc="o.para_fecha.year"/></th>
                                            <th>NÓMINA MARZO-<span t-esc="o.para_fecha.year"/></th>
                                            <t t-set="mes1" t-value="1"/>
                                            <t t-set="mes2" t-value="2"/>
                                            <t t-set="mes3" t-value="3"/>
                                        </t>
                                        <t t-elif="o.trimestre=='2'">
                                            <th>NÓMINA ABRIL-<span t-esc="o.para_fecha.year"/></th>
                                            <th>NÓMINA MAYO-<span t-esc="o.para_fecha.year"/></th>
                                            <th>NÓMINA JUNIO-<span t-esc="o.para_fecha.year"/></th>
                                            <t t-set="mes1" t-value="4"/>
                                            <t t-set="mes2" t-value="5"/>
                                            <t t-set="mes3" t-value="6"/>
                                        </t>
                                        <t t-elif="o.trimestre=='3'">
                                            <th>NÓMINA JULIO-<span t-esc="o.para_fecha.year"/></th>
                                            <th>NÓMINA AGOSTO-<span t-esc="o.para_fecha.year"/></th>
                                            <th>NÓMINA SEPTIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                            <t t-set="mes1" t-value="7"/>
                                            <t t-set="mes2" t-value="8"/>
                                            <t t-set="mes3" t-value="9"/>
                                        </t>
                                        <t t-else="">
                                            <th>NÓMINA OCTUBRE-<span t-esc="o.para_fecha.year"/></th>
                                            <th>NÓMINA NOVIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                            <th>NÓMINA DICIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                            <t t-set="mes1" t-value="10"/>
                                            <t t-set="mes2" t-value="11"/>
                                            <t t-set="mes3" t-value="12"/>
                                        </t>
                                        <th style="font-size:0.8rem;" class="text-center align-middle">UTILIDADES</th>
                                        <th style="font-size:0.8rem;" class="text-center align-middle">VACACIONES</th>
                                        <th style="font-size:0.8rem;" class="text-center align-middle">FALTAS</th>
                                        <th style="font-size:0.8rem;" class="text-center align-middle">T. TRIMESTRE</th>
                                        <th style="font-size:0.8rem;" class="text-center align-middle">APORTE PATRONAL /E.</th>
                                        <th style="font-size:0.8rem;" class="text-center align-middle">APORTE EMPLEADO </th>
                                    </tr>
                                    
                                </thead>
                            
                                <t t-set="sumatoria1" t-value="0"/>
                                <t t-set="sumatoria2" t-value="0"/>
                                <t t-set="sumatoria3" t-value="0"/>
                                <t t-set="sumatoriautilidades" t-value="0"/>
                                <t t-set="sumatoriavacaciones" t-value="0"/>
                                <t t-set="sumatoriafaltas" t-value="0"/>
                                <t t-set="sumatoriatotal" t-value="0"/>
                                <t t-set="sumatoriaaporttraba" t-value="0"/>
                                <t t-set="sumatoriaaportempre" t-value="0"/>
    
    
    
    
                                <tbody  >
                                <t t-foreach="departments" t-as="d">
                                    <t t-set="employee_department" t-value="empleados_filtrados.filtered(lambda x: x.department_id==d)"/>
                                    <tr>
                                        <td>
                                            <span t-field="d.name"/>
                                        </td>
                                        <td class="text-right">
                                            <t t-set="nominaas1" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('employee_id','in',employee_department.ids),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to.month==mes1)"/>
                                            <t t-set="total1" t-value="sum(x.total  for x in nominaas1.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                            <span t-esc="round(total1,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoria1" t-value="sumatoria1+round(total1,2)"/>
    
                                        </td>
                                        <td class="text-right">
                                            <t t-set="nominaas2" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('employee_id','in',employee_department.ids),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to.month==mes2)"/>
                                            <t t-set="total2" t-value="sum(x.total  for x in nominaas2.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                            <span t-esc="round(total2,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoria2" t-value="sumatoria2+round(total2,2)"/>
    
                                        </td>
                                        <td class="text-right">
                                            <t t-set="nominaas3" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('employee_id','in',employee_department.ids),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to.month==mes3)"/>
                                            <t t-set="total3" t-value="sum(x.total  for x in nominaas3.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                            <span t-esc="round(total3,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoria3" t-value="sumatoria3+round(total3,2)"/>
    
                                        </td>
                                        <td class="text-right">
                                            <t t-set="utilnominas" t-value="o.env['hr.payslip'].search(['|',('employee_id','in',employee_department.ids),('is_anihilation','=',True),('is_utility','=',True)]).filtered(lambda x:x.date_to.month in [mes1,mes2,mes3])"/>
                                            <t t-set="totalutil" t-value="sum(x.total  for x in utilnominas.mapped('line_ids').filtered(lambda x: x.code in ['Util_fracc','UTIL_LIQ']))"/>
                                            <span t-esc="round(totalutil,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoriautilidades" t-value="sumatoriautilidades+round(totalutil,2)"/>
    
                                        </td>
                                        <td class="text-right"> 
                                            <t t-set="vacationnomina" t-value="o.env['hr.payslip'].search([('employee_id','in',employee_department.ids),('is_vacation','=',True)]).filtered(lambda x:x.date_from.month in [mes1,mes2,mes3])"/>
                                            <t t-set="totalvacation" t-value="sum(x.brute_sum for x in vacationnomina)"/>
                                            <span t-esc="round(totalvacation,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoriavacaciones" t-value="sumatoriavacaciones+round(totalvacation,2)"/>
                                            
                                        </td>
                                        <td class="text-right">
                                            <t t-set="absencenomina" t-value="o.env['hr.payslip'].search([('employee_id','in',employee_department.ids),('is_vacation','=',False),('is_anihilation','=',False)]).filtered(lambda x:x.date_to.month in [mes1,mes2,mes3])"/>
                                            <t t-set="totalabsence" t-value="sum(x.total  for x in absencenomina.mapped('line_ids').filtered(lambda x: x.code in ['INA']))"/>
                                            <span t-esc="round(totalabsence,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoriafaltas" t-value="sumatoriafaltas+round(totalabsence,2)"/>
                                            
                                        </td>
                                        <td class="text-right"> 
                                            <t t-set="totali" t-value="round(round(totalutil+total3+total2+total1,2)+round(totalvacation,2)-round(totalabsence,2),2)"/>
                                            <span t-esc="round(totali,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoriatotal" t-value="sumatoriatotal+round(totali,2)"/>
    
                                        </td>
                                        <td class="text-right">
                                            <span t-esc="round((totali)*o.company_id.por_empleado_rpe/100,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoriaaportempre" t-value="sumatoriaaportempre+round((totali)*o.company_id.por_empresa_rpe/100,2)"/>
    
                                        </td>
                                        <td class="text-right">
                                            <span t-esc="round((totalutil)*o.company_id.por_empresa_rpe/100,2)" t-options='{"widget": "float", "precision": 2}'/>
                                            <t t-set="sumatoriaaporttraba" t-value="sumatoriaaporttraba+round((totalutil)*o.company_id.por_empleado_rpe/100,2)"/>
    
                                        </td>
                                    </tr>  
                                </t>
                                <tr style="background-color: #eee;">
                                    <td>
                                        TOTALES                           
                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round(sumatoria1,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round(sumatoria2,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round(sumatoria3,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round(sumatoriautilidades,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round(sumatoriavacaciones,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round(sumatoriafaltas,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                    <td class="text-right"> 
                                        <span t-esc="round(sumatoriatotal,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                    <td colspan="1" class="text-right">
                                        <span t-esc="round(sumatoriaaportempre,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                    <td colspan="1" class="text-right">
                                        <span t-esc="round(sumatoriaaporttraba,2)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
    
                                </tr>  
                                <tr>
                                    <td colspan="2">
                                     TOTAL A PAGAR                           
                                    </td>
                                    
                                    <td colspan="8" class="text-right">
                                        <span t-esc="round(round(sumatoriaaporttraba,2)+round(sumatoriaaportempre,2),2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="absolute_total" t-value="absolute_total+round(round(sumatoriaaporttraba,2)+round(sumatoriaaportempre,2),2)"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                    TOTAL EMPLEADOS                           
                                    </td>
                                    
                                    <td colspan="8" class="text-start">
                                        <span t-esc="len(empleados_filtrados)" t-options='{"widget": "float", "precision": 2}'/>
                                    </td>
                                </tr> 
                                
                                    </tbody>
                                    <t t-set="sumatoriautilidades_total" t-value="sumatoriautilidades_total+round(sumatoriautilidades,2)"/>
                                    <t t-set="sumatoriatotal_total" t-value="sumatoriatotal_total+round(sumatoriatotal,2)"/>
                                    <t t-set="sumatoriaaporttraba_total" t-value="sumatoriaaporttraba_total+round(sumatoriaaporttraba,2)"/>
                                    <t t-set="sumatoriaaportempre_total" t-value="sumatoriaaportempre_total+round(sumatoriaaportempre,2)"/>
                        </table>
                        </t>
                    <t t-if="obreros">
                        <t t-set="departments" t-value="obreros.mapped('department_id')"/>
                        <table class="table table-bordered table-sm" style="font-size:0.6rem;">
                        
                            <thead  class="thead-light">
                                <tr>
                                    <th>
                                      OBRERO
                                    </th>
                                    <th colspan="7"  class="text-center align-middle">
                                        PERIODOS
                                    </th>
                                    <th class="text-center align-middle">
                                        <span t-esc="str(o.company_id.por_empresa_rpe)+'%'"/>
                                    </th>
                                    <th class="text-center align-middle">
                                        <span t-esc="str(o.company_id.por_empleado_rpe)+'%'"/>
                                    </th>
                                </tr>
                                <tr>
                                    <th>NOMBRE Y APELLIDOS</th>
                                    <t t-if="o.trimestre=='1'">
                                        <th>NÓMINA ENERO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA FEBRERO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA MARZO-<span t-esc="o.para_fecha.year"/></th>
                                        <t t-set="mes1" t-value="1"/>
                                        <t t-set="mes2" t-value="2"/>
                                        <t t-set="mes3" t-value="3"/>
                                    </t>
                                    <t t-elif="o.trimestre=='2'">
                                        <th>NÓMINA ABRIL-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA MAYO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA JUNIO-<span t-esc="o.para_fecha.year"/></th>
                                        <t t-set="mes1" t-value="4"/>
                                        <t t-set="mes2" t-value="5"/>
                                        <t t-set="mes3" t-value="6"/>
                                    </t>
                                    <t t-elif="o.trimestre=='3'">
                                        <th>NÓMINA JULIO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA AGOSTO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA SEPTIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                        <t t-set="mes1" t-value="7"/>
                                        <t t-set="mes2" t-value="8"/>
                                        <t t-set="mes3" t-value="9"/>
                                    </t>
                                    <t t-else="">
                                        <th>NÓMINA OCTUBRE-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA NOVIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA DICIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                        <t t-set="mes1" t-value="10"/>
                                        <t t-set="mes2" t-value="11"/>
                                        <t t-set="mes3" t-value="12"/>
                                    </t>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">UTILIDADES</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">VACACIONES</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">FALTAS</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">T. TRIMESTRE E.</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">APORTE PATRONAL /E.</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">APORTE EMPLEADO </th>
                                </tr>
                                
                            </thead>
                        
                            <t t-set="sumatoria1" t-value="0"/>
                            <t t-set="sumatoria2" t-value="0"/>
                            <t t-set="sumatoria3" t-value="0"/>
                            <t t-set="sumatoriautilidades" t-value="0"/>
                            <t t-set="sumatoriavacaciones" t-value="0"/>
                            <t t-set="sumatoriafaltas" t-value="0"/>
                            <t t-set="sumatoriatotal" t-value="0"/>
                            <t t-set="sumatoriaaporttraba" t-value="0"/>
                            <t t-set="sumatoriaaportempre" t-value="0"/>




                            <tbody  >
                            <t t-foreach="departments" t-as="d">
                                <t t-set="employee_department" t-value="obreros.filtered(lambda x: x.department_id==d)"/>
                                <tr>
                                    <td>
                                        <span t-field="d.name"/>
                                    </td>
                                    <td class="text-right">
                                        <t t-set="nominaas1" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('employee_id','in',employee_department.ids),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to.month==mes1)"/>
                                        <t t-set="total1" t-value="sum(x.total  for x in nominaas1.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                        <span t-esc="round(total1,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoria1" t-value="sumatoria1+round(total1,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <t t-set="nominaas2" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('employee_id','in',employee_department.ids),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to.month==mes2)"/>
                                        <t t-set="total2" t-value="sum(x.total  for x in nominaas2.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                        <span t-esc="round(total2,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoria2" t-value="sumatoria2+round(total2,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <t t-set="nominaas3" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('employee_id','in',employee_department.ids),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to.month==mes3)"/>
                                        <t t-set="total3" t-value="sum(x.total  for x in nominaas3.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                        <span t-esc="round(total3,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoria3" t-value="sumatoria3+round(total3,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <t t-set="utilnominas" t-value="o.env['hr.payslip'].search(['|',('employee_id','in',employee_department.ids),('is_anihilation','=',True),('is_utility','=',True)]).filtered(lambda x:x.date_to.month in [mes1,mes2,mes3])"/>
                                        <t t-set="totalutil" t-value="sum(x.total  for x in utilnominas.mapped('line_ids').filtered(lambda x: x.code in ['Util_fracc','UTIL_LIQ']))"/>
                                        <span t-esc="round(totalutil,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriautilidades" t-value="sumatoriautilidades+round(totalutil,2)"/>

                                    </td>
                                    <td class="text-right"> 
                                        <t t-set="vacationnomina" t-value="o.env['hr.payslip'].search([('employee_id','in',employee_department.ids),('is_vacation','=',True)]).filtered(lambda x:x.date_to.month in [mes1,mes2,mes3])"/>
                                        <t t-set="totalvacation" t-value="sum(x.brute_sum for x in vacationnomina)"/>
                                        <span t-esc="round(totalvacation,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriavacaciones" t-value="sumatoriavacaciones+round(totalvacation,2)"/>
                                        
                                    </td>
                                    <td class="text-right">
                                        <t t-set="absencenomina" t-value="o.env['hr.payslip'].search([('employee_id','in',employee_department.ids),('is_vacation','=',False),('is_anihilation','=',False)]).filtered(lambda x:x.date_to.month in [mes1,mes2,mes3])"/>
                                        <t t-set="totalabsence" t-value="sum(x.total  for x in absencenomina.mapped('line_ids').filtered(lambda x: x.code in ['INA']))"/>
                                        <span t-esc="round(totalabsence,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriafaltas" t-value="sumatoriafaltas+round(totalabsence,2)"/>
                                        
                                    </td>
                                    <td class="text-right"> 
                                        <t t-set="totali" t-value="round(round(totalutil+total3+total2+total1,2)+round(totalvacation,2)-round(totalabsence,2),2)"/>
                                        <span t-esc="round(totali,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriatotal" t-value="sumatoriatotal+round(totali,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round((totali)*o.company_id.por_empleado_rpe/100,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriaaportempre" t-value="sumatoriaaportempre+round((totali)*o.company_id.por_empresa_rpe/100,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round((totalutil)*o.company_id.por_empresa_rpe/100,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriaaporttraba" t-value="sumatoriaaporttraba+round((totalutil)*o.company_id.por_empleado_rpe/100,2)"/>

                                    </td>
                                </tr>  
                            </t>
                            <tr style="background-color: #eee;">
                                <td>
                                    TOTALES                           
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoria1,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoria2,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoria3,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoriautilidades,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoriavacaciones,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoriafaltas,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right"> 
                                    <span t-esc="round(sumatoriatotal,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td colspan="1" class="text-right">
                                    <span t-esc="round(sumatoriaaportempre,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td colspan="1" class="text-right">
                                    <span t-esc="round(sumatoriaaporttraba,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>

                            </tr>  
                            <tr>
                                <td colspan="2">
                                 TOTAL A PAGAR                           
                                </td>
                                
                                <td colspan="8" class="text-right">
                                    <span t-esc="round(round(sumatoriaaporttraba,2)+round(sumatoriaaportempre,2),2)" t-options='{"widget": "float", "precision": 2}'/>
                                    <t t-set="absolute_total" t-value="absolute_total+round(round(sumatoriaaporttraba,2)+round(sumatoriaaportempre,2),2)"/>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                TOTAL OBREROS                           
                                </td>
                                
                                <td colspan="8" class="text-start">
                                    <span t-esc="len(obreros)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                            </tr>  
                                </tbody>
                                <t t-set="sumatoriautilidades_total" t-value="sumatoriautilidades_total+round(sumatoriautilidades,2)"/>
                                <t t-set="sumatoriatotal_total" t-value="sumatoriatotal_total+round(sumatoriatotal,2)"/>
                                <t t-set="sumatoriaaporttraba_total" t-value="sumatoriaaporttraba_total+round(sumatoriaaporttraba,2)"/>
                                <t t-set="sumatoriaaportempre_total" t-value="sumatoriaaportempre_total+round(sumatoriaaportempre,2)"/>
                    </table>
                    </t>
                    <hr/>
                    <table class="table table-sm table-borderless" style="font-size:1rem; width:50%;margin-left:25%;">
                        <tbody>
                            <tr>
                                <td class="text-left" width="50%" style="background-color:#eeeeee;">SALARIO <span t-esc="str(o.company_id.por_empresa_rpe)+'%'"/></td>
                                <td class="text-right" width="50%" style="border: 1px solid #eeeeee;"><span t-esc="round(sumatoriaaportempre_total,2)" t-options='{"widget": "float", "precision": 2}'/></td>
                            </tr>
                            <tr>
                                <td class="text-left" width="50%" style="background-color:#eeeeee;">UTILIDADES <span t-esc="str(o.company_id.por_empleado_rpe)+'%'"/></td>
                                <td class="text-right" width="50%" style="border: 1px solid #eeeeee;"><span t-esc="round(sumatoriaaporttraba_total,2)" t-options='{"widget": "float", "precision": 2}'/></td>
                            </tr>
                            <tr>
                                <td class="text-left" width="50%" style="background-color:#eeeeee;">TOTAL</td>
                                <td class="text-right" width="50%" style="border: 1px solid #eeeeee;"><span t-esc="round(absolute_total,2)" t-options='{"widget": "float", "precision": 2}'/></td>
                            </tr>
                            <tr>
                                <td class="text-left" width="50%" style="background-color:#eeeeee;">TOTAL EMPLEADOS</td>
                                <td class="text-right" width="50%" style="border: 1px solid #eeeeee;"><span t-esc="len(empleados)" t-options='{"widget": "float", "precision": 2}'/></td>
                            </tr>  
                           
                        </tbody>
                    </table>
                    
                </t>
            </t>       
        </t>
        
    </template>
    <template id="report_inces_trimestral">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="data_report_margin_top" t-value="10"/>
                <t t-call="web.basic_layout">
                    <style type="text/css">
                        ::root{
                            font-size: 1.5rem;
                        }
                        html{
                            
                            margin:0px;
                            padding:0px;
                        }
                        #logos >span{
                            font-size:10px;
                        }
                        .spaced{
                            padding:0.3rem;
                        }
                        .colored >:nth-child(odd){
                            background-color:rgb(222, 220, 215);
                        }
                        .spaced div {
                            margin-top:0.3rem;
                        }
                        .spaced :last-child{
                            margin-bottom: 0.2rem;
                        }
    
                    </style>
                    
                    <div class="container borrel">
                        <div class="row">
                            <div class="col-2">

                            </div>
                            <div  class="col-8 text-center">
                                <div class="container" style="font-size: 0.8rem;">
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.name" style="font-size:1.1rem;"/></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.rif" /></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">N° de aportante: <span t-field="o.company_id.company_registry" /></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">◄►Reporte Inces◄►</div>
                                    </div>
                                    <div class="row">
                                        <t t-if="o.trimestre=='1'">
                                            <div class="col-12 text-center">PRIMER TRIMESTRE - <span t-esc="o.para_fecha.year"/></div>
                                        </t>
                                        <t t-elif="o.trimestre=='2'">
                                            <div class="col-12 text-center">SEGUNDO TRIMESTRE - <span t-esc="o.para_fecha.year"/></div>
                                        </t>
                                        <t t-elif="o.trimestre=='3'">
                                            <div class="col-12 text-center">TERCER TRIMESTRE - <span t-esc="o.para_fecha.year"/></div>
                                        </t>
                                        <t t-else="">
                                            <div class="col-12 text-center">CUARTO TRIMESTRE - <span t-esc="o.para_fecha.year"/></div>
                                        </t>
                                        
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-left">
                                            NÓMINA PERSONAL
                                        </div>
                                        
                                    </div>
                                     
                                </div>            
                                 
                            </div>
                            <div class="col-2">
                                <table class="table table-sm table-borderless" style="font-size:0.8rem;white-space:nowrap;">
                                    <tr>
                                        <td class="text-right" ><b>FECHA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y')" /></td>
                                    </tr>
                                    <tr>
                                        <td class="text-right" ><b>HORA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%H:%M:%S')" /></td>
                                    </tr>
                                    
                                </table>
                            </div>
                        </div>
                    <hr/>
                    <br/>
                    </div>
                    <t t-if="o.employee_tags">
                        <t t-set="empleados" t-value="o.env['hr.employee'].search([('company_id','=',o.company_id.id),('category_ids','in',o.employee_tags.ids)])"/>
                    </t>
                    <t t-else="">
                        <t t-set="empleados" t-value="o.env['hr.employee'].search([('company_id','=',o.company_id.id)])"/>
                    </t>
                    <t t-if="o.autoriza_retencion ">
                        <t t-set="empleados" t-value="empleados.filtered(lambda x:x.autoriza_retencion)"/>
                    </t>
                    <t t-else="">
                    </t>
                        
                        <table class="table table-bordered table-sm" style="font-size:0.9rem;">
                            
                            <thead  class="thead-light">
                                <tr>
                                    <th>
                                        DATOS DEL TRIMESTRE
                                    </th>
                                    <th colspan="6"  class="text-center align-middle">
                                        PERIODOS
                                    </th>
                                    <th class="text-center align-middle">
                                        <span t-esc="str(o.company_id.por_empresa_rpe)+'%'"/>
                                    </th>
                                    <th class="text-center align-middle">
                                        <span t-esc="str(o.company_id.por_empleado_rpe)+'%'"/>
                                    </th>
                                </tr>
                                <tr>
                                    <th>NOMBRE Y APELLIDOS</th>
                                    <t t-if="o.trimestre=='1'">
                                        <th>NÓMINA ENERO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA FEBRERO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA MARZO-<span t-esc="o.para_fecha.year"/></th>
                                        <t t-set="mes1" t-value="1"/>
                                        <t t-set="mes2" t-value="2"/>
                                        <t t-set="mes3" t-value="3"/>
                                    </t>
                                    <t t-elif="o.trimestre=='2'">
                                        <th>NÓMINA ABRIL-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA MAYO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA JUNIO-<span t-esc="o.para_fecha.year"/></th>
                                        <t t-set="mes1" t-value="4"/>
                                        <t t-set="mes2" t-value="5"/>
                                        <t t-set="mes3" t-value="6"/>
                                    </t>
                                    <t t-elif="o.trimestre=='3'">
                                        <th>NÓMINA JULIO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA AGOSTO-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA SEPTIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                        <t t-set="mes1" t-value="7"/>
                                        <t t-set="mes2" t-value="8"/>
                                        <t t-set="mes3" t-value="9"/>
                                    </t>
                                    <t t-else="">
                                        <th>NÓMINA OCTUBRE-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA NOVIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                        <th>NÓMINA DICIEMBRE-<span t-esc="o.para_fecha.year"/></th>
                                        <t t-set="mes1" t-value="10"/>
                                        <t t-set="mes2" t-value="11"/>
                                        <t t-set="mes3" t-value="12"/>
                                    </t>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">UTILIDADES</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">VACACIONES</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">T. TRIMESTRE E.</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">APORTE PATRONAL /E.</th>
                                    <th style="font-size:0.8rem;" class="text-center align-middle">APORTE EMPLEADO </th>
                                </tr>
                                
                            </thead>
                        
                            <!-- seteado de variables de nomina -->
                                        <t t-set="todasnominas" t-value="o.env['hr.payslip'].search([('company_id','=',o.company_id.id),('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to.month in [mes1,mes2,mes3])"/>

                                        <t t-set="nominaas1" t-value="todasnominas.filtered(lambda x:x.date_to.month==mes1)"/>

                                        <t t-set="nominaas2" t-value="todasnominas.filtered(lambda x:x.date_to.month==mes2)"/>

                                        <t t-set="nominaas3" t-value="todasnominas.filtered(lambda x:x.date_to.month==mes3)"/>

                                        <t t-set="utilnominas" t-value="o.env['hr.payslip'].search(['|',('is_anihilation','=',True),('is_utility','=',True)]).filtered(lambda x:x.date_to.month in [mes1,mes2,mes3])"/>

                                        <t t-set="vacationnomina" t-value="o.env['hr.payslip'].search([('is_vacation','=',True)]).filtered(lambda x:x.date_from.month in [mes1,mes2,mes3] and not x.corporate_type)"/>

                                        <t t-if="o.employee_tags">
                                            <t t-set="nofilteredemployees" t-value="todasnominas.mapped('employee_id')"/>
                                            <t t-set="empleados" t-value="nofilteredemployees.filtered(lambda x: x.company_id == o.company_id and (x.category_ids &amp; o.employee_tags))"/>
                                        </t>
                                        <t t-else="">
                                        <t t-set="nofilteredemployees" t-value="todasnominas.mapped('employee_id')"/>
                                            <t t-set="empleados" t-value="nofilteredemployees.filtered(lambda x:x.company_id == o.company_id)"/>
                                        </t>
                                        <t t-if="o.autoriza_retencion ">
                                            <t t-set="empleados" t-value="empleados.filtered(lambda x:x.autoriza_retencion)"/>
                                        </t>
                                        <t t-else="">
                                        </t>



                            <t t-set="sumatoria1" t-value="0"/>
                            <t t-set="sumatoria2" t-value="0"/>
                            <t t-set="sumatoria3" t-value="0"/>
                            <t t-set="sumatoriautilidades" t-value="0"/>
                            <t t-set="sumatoriavacaciones" t-value="0"/>

                            <t t-set="sumatoriatotal" t-value="0"/>
                            <t t-set="sumatoriaaporttraba" t-value="0"/>
                            <t t-set="sumatoriaaportempre" t-value="0"/>
                            <t t-set="counter" t-value="0"/>



                            <tbody  >
                            <t t-foreach="empleados" t-as="e">
                                <tr>
                                    <td>
                                    <t t-set="counter" t-value="counter+1"/>
                                        <span t-esc="counter"/>--<span t-field="e.name"/>
                                    </td>
                                    <td class="text-right">
                                        <t t-set="nominaas1e" t-value="nominaas1.filtered(lambda x:x.employee_id==e)"/>
                                        <t t-set="total1" t-value="sum(x.total  for x in nominaas1e.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                        <span t-esc="round(total1,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoria1" t-value="sumatoria1+round(total1,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <t t-set="nominaas2e" t-value="nominaas2.filtered(lambda x:x.employee_id==e)"/>
                                        <t t-set="total2" t-value="sum(x.total  for x in nominaas2e.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                        <span t-esc="round(total2,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoria2" t-value="sumatoria2+round(total2,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <t t-set="nominaas3e" t-value="nominaas3.filtered(lambda x:x.employee_id==e)"/>
                                        <t t-set="total3" t-value="sum(x.total  for x in nominaas3e.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))"/>
                                        <span t-esc="round(total3,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoria3" t-value="sumatoria3+round(total3,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <t t-set="utilnominase" t-value="utilnominas.filtered(lambda x:x.employee_id==e)"/>
                                        <t t-set="totalutil" t-value="sum(x.total  for x in utilnominase.mapped('line_ids').filtered(lambda x: x.code in ['Util_fracc','UTIL_LIQ']))"/>
                                        <span t-esc="round(totalutil,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriautilidades" t-value="sumatoriautilidades+round(totalutil,2)"/>

                                    </td>
                                    <td class="text-right"> 
                                        <t t-set="vacationnominae" t-value="vacationnomina.filtered(lambda x:x.employee_id==e)"/>
                                        <t t-set="totalvacation" t-value="sum(x.brute_sum for x in vacationnominae)"/>
                                        <span t-esc="round(totalvacation,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriavacaciones" t-value="sumatoriavacaciones+round(totalvacation,2)"/>
                                        
                                    </td>
                                    <td class="text-right"> 
                                        <span t-esc="round(totalutil+total3+total2+total1 +round(totalvacation,2),2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriatotal" t-value="sumatoriatotal+round(totalutil+total3+total2+total1+round(totalvacation,2),2)"/>

                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round((totalutil+total3+total2+total1 +round(totalvacation,2))*o.company_id.por_empresa_rpe/100,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriaaportempre" t-value="sumatoriaaportempre+round((totalutil+total3+total2+total1 +round(totalvacation,2))*o.company_id.por_empresa_rpe/100,2)"/>

                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round((totalutil)*o.company_id.por_empleado_rpe/100,2)" t-options='{"widget": "float", "precision": 2}'/>
                                        <t t-set="sumatoriaaporttraba" t-value="sumatoriaaporttraba+round((totalutil)*o.company_id.por_empleado_rpe/100,2)"/>

                                    </td>
                                </tr>  
                            </t>
                            <tr style="background-color: #eee;">
                                <td>
                                    TOTALES                           
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoria1,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoria2,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoria3,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoriautilidades,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right">
                                    <span t-esc="round(sumatoriavacaciones,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td class="text-right"> 
                                    <span t-esc="round(sumatoriatotal,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td colspan="1" class="text-center">
                                    <span t-esc="round(sumatoriaaportempre,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td colspan="1" class="text-center">
                                    <span t-esc="round(sumatoriaaporttraba,2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>

                            </tr>  
                            <tr>
                                <td colspan="2">
                                 TOTAL A PAGAR                           
                                </td>
                                
                                <td colspan="2" class="text-right">
                                    <span t-esc="round(round(sumatoriaaporttraba,2)+round(sumatoriaaportempre,2),2)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td colspan="2" class="text-right">
                                    TOTAL EMPLEADOS       
                                </td>
                                <td colspan="2" class="text-right">
                                    <span t-esc="len(empleados)" t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                            </tr>  
                            
                                </tbody>
                    </table>
                    <hr/>
                    
                    
                </t>
            </t>       
        </t>
        
    </template>

    <template id="report_faov_periodo">
         <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="data_report_margin_top" t-value="10"/>
                <t t-call="web.basic_layout">
                    <style type="text/css">
                        ::root{
                            font-size: 1.5rem;
                        }
                        html{
                            
                            margin:0px;
                            padding:0px;
                        }
                        #logos &gt;span{
                            font-size:10px;
                        }
                        .spaced{
                            padding:0.3rem;
                        }
                        .colored &gt;:nth-child(odd){
                            background-color:rgb(222, 220, 215);
                        }
                        .spaced div {
                            margin-top:0.3rem;
                        }
                        .spaced :last-child{
                            margin-bottom: 0.2rem;
                        }
    
                    </style>
                    
                    <div class="container borrel">
                        <div class="row">
                            <div class="col-2">

                            </div>
                            <div class="col-8 text-center">
                                <div class="container" style="font-size: 0.8rem;">
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.name" style="font-size:1.1rem;"/></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center"><span t-field="o.company_id.rif"/></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">N° de aportante: <span t-field="o.company_id.company_registry"/></div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12 text-center">◄►Reporte Faov◄►</div>
                                    </div>
                                    <div class="row">
                                        <t t-if="o.periodo=='semanal'">
                                            <div class="col-12 text-center">Semanal - <span t-esc="o.para_fecha.strftime('%B - %Y')"/></div>
                                        </t>
                                        <t t-elif="o.periodo=='quincenal'">
                                            <div class="col-12 text-center">Quincenal - <span t-esc="o.para_fecha.strftime('%B - %Y')"/></div>
                                        </t>
                                        <t t-elif="o.periodo=='mensual'">
                                            <div class="col-12 text-center">Mensual - <span t-esc="o.para_fecha.strftime('%B - %Y')"/></div>
                                        </t>
                                       
                                        
                                    </div>
                                    
                                     
                                </div>            
                                 
                            </div>
                            <div class="col-2">
                                <table class="table table-sm table-borderless" style="font-size:0.8rem;white-space:nowrap;">
                                    <tr>
                                        <td class="text-right"><b>FECHA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y')"/></td>
                                    </tr>
                                    <tr>
                                        <td class="text-right"><b>HORA:</b></td>
                                        <td><span t-esc="context_timestamp(datetime.datetime.now()).strftime('%H:%M:%S')"/></td>
                                    </tr>
                                    
                                </table>
                            </div>
                        </div>
                    <hr/>
                    <br/>
                    </div>
                    <!-- .filtered(lambda x: x.contract_id.date_end &lt; date(o.para_fecha.year,o.para_fecha.month,28)) -->
                    <t t-if="o.filtro=='all'">
                        <t t-set="empleados" t-value="o.env['hr.employee'].search([('company_id','=',o.company_id.id)]).filtered(lambda x:x.fecha_inicio and x.fecha_inicio&lt;o.para_fecha and x.autoriza_retencion)"/>

                    </t>
                    <t t-elif="o.filtro=='with_contracts'">
                        <t t-set="empleados" t-value="o.env['hr.employee'].search([('contract_id','!=',False),('company_id','=',o.company_id.id)]).filtered(lambda x:x.fecha_inicio and x.fecha_inicio&lt;o.para_fecha and x.autoriza_retencion)"/>
                    </t>
                    <t t-if="o.employee_tags">
                        <t t-set="empleados" t-value="empleados.filtered(lambda x: any([y in o.employee_tags for y in x.category_ids]) ).filtered(lambda x:x.fecha_inicio and x.fecha_inicio&lt;o.para_fecha and x.autoriza_retencion)"/>
                    </t>
                    <!-- <t t-else="">
                        <t t-set="empleados" t-value="o.env['hr.employee'].search([('contract_id','!=',False),('company_id','=',o.company_id.id)]).filtered(lambda x: x.slip_ids.filtered(lambda y: y.date_to"/>
                    </t>     -->
                        <t t-set="contador" t-value="0"/>
                        <table class="table table-borderless table-sm">
                            
                            <thead class="thead-light">
                                <tr>
                                    <th class="text-center" colspan="100%">Cuenta BANAVIH: <span t-field="o.company_id.banavih_account"/></th>
                                </tr>

                                <tr>
                                    <th class="align-middle">NRO.</th>
                                    <th class="align-middle">NOMBRE</th>
                                    <th class="align-middle">F. INGRESO</th>
                                    <th class="align-middle">C.I. NRO.</th>
                                    <t t-if="o.periodo=='semanal'">
                                        <t t-set="mes" t-value="o.month_weeks(o.para_fecha.year,o.para_fecha.month)"/>
                                        <t t-set="y" t-value="0"/>
                                        <t t-foreach="mes" t-as="week">
                                            <t t-set="y" t-value="y+1"/>
                                            <th> SEM.<br/> <span t-esc="y"/></th>
                                        </t>

                                        
                                    </t>
                                    <t t-elif="o.periodo=='quincenal'">
                                        <th>1ERA<br/> QUIN.</th>
                                        <th>2DA<br/> QUIN.</th>
                                    </t>
                                    <t t-elif="o.periodo=='mensual'">
                                        <th>MENSUAL</th>
                                         <t t-set="mes" t-value="o.month_weeks(o.para_fecha.year,o.para_fecha.month)"/>
                                        
                                    </t>
                                    
                                    <th class="text-center">TOTAL <br/>DEV</th>
                                    <th colspan="4">
                                        <table width="100%">
                                            <thead>
                                                <tr>
                                                    <th colspan="4" class="text-center">
                                                        F.A.O.V
                                                    </th>
                                                </tr>
                                                <tr>
                                                    <th class="text-right">
                                                        Aport.<br/> trab.
                                                    </th>
                                                    <th class="text-right">
                                                        Aport.<br/> patr.
                                                    </th>
                                                    <th class="text-right">
                                                        TOTAL
                                                    </th>
                                                    <th class="text-right">
                                                        OBS.
                                                    </th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </th>
                                    
                                </tr>
                                
                            </thead>
                        
                            
                            <tbody style="font-size:0.8rem;">
                                <t t-if="mes">
                                    <t t-set="object" t-value="o.array_of_weeks_for_sumatory(mes)"/>
                                    
                                </t>
                            <t t-set="object_quin1" t-value="0"/>
                            <t t-set="object_quin2" t-value="0"/>
                            <t t-set="object_mes" t-value="0"/>
                            <t t-set="object_dev" t-value="0"/>
                            <t t-set="object_aport" t-value="0"/>
                            <t t-set="object_apoemp" t-value="0"/>
                            <t t-set="object_total" t-value="0"/>
                            <t t-foreach="empleados" t-as="e">
                                <t t-set="contador" t-value="contador+1"/>
                                
                                <t t-set="total_dev" t-value="0"/>
                                <tr>
                                    <td>
                                        <span t-esc="contador"/>
                                    </td>
                                    <td>
                                        <span t-esc="e.name"/>
                                    </td>
                                    <td>
                                        <!-- <span t-esc="e.contract_id.date_start"/> -->
                                        <span t-esc="e.fecha_inicio.strftime('%d/%m/%Y') if e.fecha_inicio else e.contract_id.date_start"/>
                                    </td>
                                    <td>
                                        <span t-esc="e.nationality"/>-<span t-esc="e.identification_id_2"/>
                                    </td>
                                    <t t-if="o.periodo=='semanal'">
                                        <t t-set="range_dates" t-value="o.abs_venezuelan_weeksit_range(mes,o.para_fecha)"/>
                                        <t t-set="nominas" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('state','in',['done','verify']),('employee_id','=',e.id),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to&gt;=range_dates[0][0] and x.date_to&lt;=range_dates[-1][-1])"/>
                                        <t t-set="nominas2" t-value="o.env['hr.payslip'].search([('state','in',['done','verify']),('employee_id','=',e.id),('type_struct_category','in',['vacation','utilities','especial'])]).filtered(lambda x:x.date_to&gt;=range_dates[0][0]  and ((x.is_vacation and x.date_to&lt;=range_dates[-1][-1]) or (x.date_to&lt;=range_dates[-1][-1] and (x.is_anihilation or x.is_utility))))"/>                                        <t t-set="y" t-value="1"/>
                                        <t t-foreach="range_dates" t-as="week">
                                            <t t-set="sem" t-value="sum(x.total  for x in nominas.filtered(lambda x:x.date_to&gt;=week[0] and x.date_to&lt;=week[-1]).mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))+sum(x.total  for x in nominas2.filtered(lambda x:x.date_to&gt;=week[0] and x.date_to&lt;=week[-1]).mapped('line_ids').filtered(lambda x: x.category_id.code=='Bono'))"/>
                                            <td class="text-right">
                                                <span t-esc="round(sem,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            </td>
                                            <t t-set="object" t-value="o.update_abacus(object,y,sem)"/>
                                            <t t-set="y" t-value="y+1"/>
                                            <t t-set="total_dev" t-value="total_dev+sem"/>

                                        </t>
                                        <t t-set="total_dev" t-value="total_dev if total_dev &gt; e.company_id.sal_minimo_ley else e.company_id.sal_minimo_ley"/>
                                        
                                        
                                    </t>
                                    <t t-elif="o.periodo=='quincenal'">
                                        <t t-set="nominas" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('state','in',['done','verify']),('is_anihilation','=',False),('is_utility','=',False),('employee_id','=',e.id),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to.month == o.para_fecha.month)"/>
                                        <t t-set="nominas2" t-value="o.env['hr.payslip'].search([('state','in',['done','verify']),('employee_id','=',e.id),('type_struct_category','in',['vacation','utilities','especial'])]).filtered(lambda x:x.date_to&gt;=range_dates[0][0]  and ((x.is_vacation and x.date_to&lt;=range_dates[-1][-1]) or (x.date_to&lt;=range_dates[-1][-1] and (x.is_anihilation or x.is_utility))))"/>
                                        <t t-set="quin1" t-value="sum(x.total  for x in nominas.filtered(lambda x:x.date_to.day &lt;= 15).mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))+sum(x.total  for x in nominas2.filtered(lambda x:x.date_from.day &lt;= 15).mapped('line_ids').filtered(lambda x: x.category_id.code=='Bono'))"/>
                                        <t t-set="quin2" t-value="sum(x.total  for x in nominas.filtered(lambda x:x.date_to.day &gt; 15).mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))+sum(x.total  for x in nominas2.filtered(lambda x:x.date_from.day &gt; 15).mapped('line_ids').filtered(lambda x: x.category_id.code=='Bono'))"/>

                                            <td class="text-right">
                                                <span t-esc="round(quin1,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                <t t-set="object_quin1" t-value="object_quin1+quin1"/>
                            
                                            </td>
                                            <td class="text-right">
                                                <span t-esc="round(quin2,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                                <t t-set="object_quin2" t-value="object_quin2+quin2"/>
                                            </td>
                                            <t t-set="total_dev" t-value="round(quin1+quin2,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            <t t-set="total_dev" t-value="total_dev if total_dev &gt; e.company_id.sal_minimo_ley else e.company_id.sal_minimo_ley"/>

                                    </t>
                                    <t t-else="">
                                      <t t-set="mes" t-value="o.month_weeks(o.para_fecha.year,o.para_fecha.month)"/>
                                       <t t-set="range_dates" t-value="o.abs_venezuelan_weeksit_range(mes,o.para_fecha)"/>
                                        <t t-set="nominas" t-value="o.env['hr.payslip'].search([('is_vacation','=',False),('is_anihilation','=',False),('is_utility','=',False),('state','in',['done','verify']),('employee_id','=',e.id),('type_struct_category','in',['normal','especial'])]).filtered(lambda x:x.date_to&gt;=range_dates[0][0] and x.date_to&lt;=range_dates[-1][-1])"/>
                                        <t t-set="nominas2" t-value="o.env['hr.payslip'].search([('state','in',['done','verify']),('employee_id','=',e.id),('type_struct_category','in',['vacation','utilities','especial'])]).filtered(lambda x:x.date_to&gt;=range_dates[0][0]  and ((x.is_vacation and x.date_to&lt;=range_dates[-1][-1]) or (x.date_to&lt;=range_dates[-1][-1] and (x.is_anihilation or x.is_utility))))"/>
                                        <t t-set="mes" t-value="sum(x.total  for x in nominas.mapped('line_ids').filtered(lambda x: x.category_id.code=='BASIC'))+sum(x.total  for x in nominas2.mapped('line_ids').filtered(lambda x: x.category_id.code=='Bono'))"/>

                                        <td class="text-right">
                                            <span t-esc="round(mes,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                            <t t-set="object_mes" t-value="object_mes+mes"/>

                                        </td>
                                        <t t-set="total_dev" t-value="mes if round(mes,2) &gt; e.company_id.sal_minimo_ley else e.company_id.sal_minimo_ley"/>
                                        
                                    </t>
                                    <td class="text-right"> 
                                        <span t-esc="round(total_dev,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        <t t-set="object_dev" t-value="object_dev+round(total_dev,2)"/>
                            
                                    </td>
                                    <td class="text-right"> 
                                        <!-- <t t-set="aportempleado" t-value="sum(x.total  for x in nominas.mapped('line_ids').filtered(lambda x: x.code=='F.A.O.V.'))"/> -->
                                        <t t-set="aportempleado" t-value="round((total_dev*e.company_id.por_empleado_lph)/100,2)"/>

                                        <span t-esc="round(aportempleado,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        <t t-set="object_aport" t-value="object_aport+round(aportempleado,2)"/>
                            
                                    </td>
                                    <td class="text-right">
                                        <!-- <t t-set="aportempresa" t-value="sum(x.total  for x in nominas.mapped('line_ids').filtered(lambda x: x.code=='F.A.O.V.-EMPRESA'))"/> -->
                                        <t t-set="aportempresa" t-value="round((total_dev*e.company_id.por_empresa_lph)/100,2)"/>
                                        
                                        <span t-esc="round(aportempresa,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        <t t-set="object_apoemp" t-value="object_apoemp+round(aportempresa,2)"/>
                           
                                    </td>
                                    <td class="text-right">
                                        <span t-esc="round((aportempresa+aportempleado),2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/>
                                        <t t-set="object_total" t-value="object_total+round((aportempresa+aportempleado),2)"/>
                                    </td>
                                    <td class="text-center">
                                        <span>
                                        <t t-if="e.contract_id.is_liquidado">
                                            LIQ.<br/>
                                        </t>
                                        <t t-if="not e.autoriza_retencion">
                                            NO APORTA.
                                        </t>
                                        <t t-if="not e.contract_id.is_liquidado and e.autoriza_retencion">
                                           ---
                                        </t>
                                    </span>
                                    </td>
                                </tr>  
                            </t>
                            <tr>
                                <td colspan="2" class="text-left">
                                    Trabajadores : <span t-esc="contador"/>
                                </td>
                                <td colspan="2" class="text-right">
                                    Total General
                                </td>
                                <t t-if="o.periodo=='semanal'">
                                    <t t-set="mes" t-value="o.month_weeks(o.para_fecha.year,o.para_fecha.month)"/>
                                    <t t-set="x" t-value="0"/>
                                    <t t-foreach="mes" t-as="week">
                                        <t t-set="x" t-value="x+1"/>
                                        <td><span t-esc="round(object[x],2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                    </t>

                                    
                                </t>
                                <t t-elif="o.periodo=='quincenal'">
                                    <td><span t-esc="round(object_quin1,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                    <td><span t-esc="round(object_quin2,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                </t>
                                <t t-elif="o.periodo=='mensual'">
                                    <td><span t-esc="round(object_mes,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                    
                                </t>
                                <td class="text-right"><span t-esc="round(object_dev,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                <td class="text-right"><span t-esc="round(object_aport,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                <td class="text-right"><span t-esc="round(object_apoemp,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                <td class="text-right"><span t-esc="round(object_total,2)" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 2}"/></td>
                                <td/>


                               
                            </tr>
                                </tbody>
                    </table>
                    <hr/>
                    
                    
                </t>
            </t>       
        </t>
        
    </template>
</odoo>
